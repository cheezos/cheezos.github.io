<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elden Ring Quest Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .completed { text-decoration: line-through; color: #6b7280; }
        .quest-list { display: block; } 
        .quest-item { display: flex; } 
        .useful-item-entry { display: flex; }
        .site-of-grace-entry { display: flex; } /* For Sites of Grace */
        .search-highlight { background-color: #fef08a; }
        .filter-button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem; 
            margin-bottom: 1.5rem; 
        }
        .filter-button {
            padding: 0.5rem 1rem; 
            color: white;
            border-radius: 0.375rem; 
            transition: background-color 0.2s;
        }
        .filter-button.active {
            background-color: #2563eb; 
        }
        .filter-button:not(.active) {
            background-color: #3b82f6; 
        }
        .filter-button:hover:not(.active) {
            background-color: #1d4ed8; 
        }
        .fextralife-link {
            color: #2563eb; /* Blue-600 for links */
            text-decoration: underline;
        }
        .fextralife-link:hover {
            color: #1d4ed8; /* Darker blue on hover */
        }
        .item-label-prefix { /* General prefix for items/locations */
            font-style: italic;
            color: #4b5563; /* gray-600 */
            margin-right: 0.25rem;
        }
        .info-paragraph {
            padding: 0.5rem;
            margin: 0.5rem 0;
            background-color: #e0f2fe; /* Light blue background */
            border-left: 4px solid #3b82f6; /* Blue left border */
            color: #0c4a6e; /* Dark blue text */
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4 max-w-4xl">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">Elden Ring Quest Guide</h1>
        
        <div class="mb-6">
            <input type="text" id="searchInput" placeholder="Search quests, items & locations..." class="w-full p-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4">
            <div class="mb-4">
                <input type="checkbox" id="showUsefulItemsToggle" class="mr-2" checked>
                <label for="showUsefulItemsToggle" class="text-gray-700">Show Useful Item Locations (Flask Upgrades, etc.)</label>
            </div>
            <div class="mb-4">
                <input type="checkbox" id="showSitesOfGraceToggle" class="mr-2" checked>
                <label for="showSitesOfGraceToggle" class="text-gray-700">Show Site of Grace Locations</label>
            </div>
            <div id="filterButtonContainer" class="filter-button-container">
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">Main Game Side Quests</h2>
            <p class="text-gray-600 mb-4">All questlines in the base game are separate from the DLC and do not require *Shadow of the Erdtree* progress to start or complete. Useful items and Site of Grace locations are integrated into the quest flow.</p>
            <div class="space-y-4">
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Complete the tutorial and reach Limgrave via the Church of Anticipation.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate The First Step Site of Grace in Limgrave.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Select as a starting Keepsake (Optional).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Defeat the Ulcerated Tree Spirit in Fringefolk Hero's Grave (requires 2 Stonesword Keys).</span></div>
                <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Meet White Mask Varre at The First Step Site of Grace in Limgrave.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found on the path from Stormgate to Stormhill Shack in Stormhill.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Roderika"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Stormhill Shack Site of Grace.</span></div>
                <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Meet Roderika at Stormhill Shack in Limgrave.</span></div>
                <div class="quest-item" data-questline="Yura"><input type="checkbox" class="mr-2"><span>Approach Murkwater Cave in Limgrave. Help Yura, Hunter of Bloody Fingers defeat Bloody Finger Nerijus. (Yura must survive for his quest to continue).</span></div>
                <div class="quest-item" data-questline="Patches Yura"><input type="checkbox" class="mr-2"><span>Find and fight Patches the Untethered in Murkwater Cave. Spare him when he surrenders.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Patches"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Murkwater Cave Site of Grace after defeating/sparing Patches.</span></div>
                <div class="quest-item" data-questline="Yura"><input type="checkbox" class="mr-2"><span>Speak to Yura north of Murkwater Cave after the Patches encounter.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Melina"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Gatefront Ruins Site of Grace (or Agheel Lake North).</span></div>
                <div class="quest-item" data-questline="MainProgression Melina"><input type="checkbox" class="mr-2"><span>Meet Melina. (This occurs at a Site of Grace after resting, typically after activating three Limgrave Sites of Grace like Gatefront Ruins or Agheel Lake North. She provides Torrent.)</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Church of Elleh Site of Grace.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd"><input type="checkbox" class="mr-2"><span>Return to the Church of Elleh at night to meet Renna (Ranni the Witch). (This occurs after Melina gives you Torrent.)</span></div>
                <div class="quest-item" data-questline="Boc"><input type="checkbox" class="mr-2"><span>Find Boc the Seamster transformed into a tree near the Agheel Lake North Site of Grace and free him.</span></div>
                <div class="quest-item" data-questline="Boc"><input type="checkbox" class="mr-2"><span>Speak to Boc at the entrance of Coastal Cave in Limgrave.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Boc"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Coastal Cave Site of Grace.</span></div>
                <div class="quest-item" data-questline="Boc"><input type="checkbox" class="mr-2"><span>Defeat the Demi-Human Chiefs in Coastal Cave and give Boc the Sewing Needle. (Proceed through the entire cave to reach the Church of Dragon Communion.)</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Sellen"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Waypoint Ruins Cellar Site of Grace.</span></div>
                <div class="quest-item" data-questline="Sellen Seluvis"><input type="checkbox" class="mr-2"><span>Meet Sorceress Sellen in the Waypoint Ruins cellar in Limgrave.</span></div>
                <div class="quest-item" data-questline="Alexander Jarburg"><input type="checkbox" class="mr-2"><span>Meet Iron Fist Alexander stuck in the ground near Saintsbridge in Limgrave.</span></div>
                <div class="quest-item" data-questline="D Gurranq Fia"><input type="checkbox" class="mr-2"><span>Meet D, Hunter of the Dead, in Stormhill, east of Saintsbridge (Limgrave).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Defeat the Black Knife Assassin in Deathtouched Catacombs (Limgrave, west of Saintsbridge) to obtain the first Deathroot.</span></div>
                <div class="quest-item" data-questline="D Gurranq"><input type="checkbox" class="mr-2"><span>Defeat the Tibia Mariner in Summonwater Village (Limgrave).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Obtained by defeating the Tibia Mariner in Summonwater Village. This is the second Deathroot.</span></div>
                <div class="quest-item" data-questline="D Gurranq Fia"><input type="checkbox" class="mr-2"><span>Return to D. He will mark a waygate to the Bestial Sanctum on your map.</span></div>
                <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Meet Kenneth Haight north of Mistwood in Limgrave.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Kenneth"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Obtained by defeating Kenneth Haight (Mistwood, Limgrave - Optional if following his quest).</span></div>
                <div class="quest-item" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span>Use the waygate behind the Third Church of Marika in Mistwood (marked by D) to reach the Bestial Sanctum.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Third Church of Marika in Mistwood, Limgrave.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Bestial Sanctum Site of Grace.</span></div>
                <div class="quest-item" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span>Meet Gurranq, Beast Clergyman, at the Bestial Sanctum.</span></div>
                <div class="quest-item" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span>Give Gurranq the first Deathroot (e.g., from Deathtouched Catacombs). Rewards: Clawmark Seal and Beast Eye (the eye shivers when near a Deathroot).</span></div>
                <div class="quest-item" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span>Give Gurranq the second Deathroot (e.g., from Summonwater Village). Reward: Bestial Sling Incantation.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Rest at the Bestial Sanctum Site of Grace after feeding Gurranq.</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Enter Roundtable Hold. (Typically accessible after meeting Melina and defeating Margit, or reaching Liurnia.)</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Roundtable Hold Site of Grace.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Speak to Brother Corhyn in Roundtable Hold until his dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Diallos Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Speak to Diallos in Roundtable Hold until his dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Gideon Nepheli"><input type="checkbox" class="mr-2"><span>Speak to Sir Gideon Ofnir, the All-Knowing in Roundtable Hold until his dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Fia Rogier D"><input type="checkbox" class="mr-2"><span>Speak to Fia, the Deathbed Companion, in Roundtable Hold and accept her embrace.</span></div>
                <div class="quest-item" data-questline="Hewg Roderika"><input type="checkbox" class="mr-2"><span>Speak to Smithing Master Hewg in Roundtable Hold until his dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Kale"><input type="checkbox" class="mr-2"><span>Hear wolf howling in the Mistwood Ruins in Limgrave.</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Kale"><input type="checkbox" class="mr-2"><span>Speak to Merchant Kalé at the Church of Elleh about the howling. He will teach you the "Finger Snap" gesture.</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Kale"><input type="checkbox" class="mr-2"><span>Use the "Finger Snap" gesture near the source of the howling in Mistwood Ruins to summon Blaidd the Half-Wolf.</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni"><input type="checkbox" class="mr-2"><span>Speak to Blaidd. He will ask you to help him defeat Bloodhound Knight Darriwil in the Forlorn Hound Evergaol (Limgrave).</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni"><input type="checkbox" class="mr-2"><span>Defeat Bloodhound Knight Darriwil (you can summon Blaidd for this fight).</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni"><input type="checkbox" class="mr-2"><span>Speak to Blaidd outside the Evergaol after defeating Darriwil.</span></div>
                <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Clear Fort Haight in southeast Limgrave for Kenneth Haight.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Kenneth"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found in front of the entrance to Fort Haight in Mistwood, Limgrave.</span></div>
                <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Return to Kenneth Haight and accept his offer of service.</span></div>
                <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Speak with Kenneth Haight again at Fort Haight.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>South of the Castle Morne Rampart Site of Grace in the Weeping Peninsula, on a cliffside path to Castle Morne.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Bridge of Sacrifice Site of Grace.</span></div>
                <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Meet Irina near the Bridge of Sacrifice in the Weeping Peninsula. She will give you Irina's Letter.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from Callu Baptismal Church in the Ailing Village, Weeping Peninsula.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Church of Pilgrimage, north of Ailing Village in the Weeping Peninsula.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Found in a chest at the top of Oridys's Rise in the Weeping Peninsula (east of Castle Morne Rampart). Solve the "Seek three wise beasts" puzzle.</span></div>
                <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Deliver Irina’s Letter to Edgar atop the battlements of Castle Morne.</span></div>
                <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Defeat Leonine Misbegotten, the boss of Castle Morne.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Morne Moangrave Site of Grace after defeating Leonine Misbegotten.</span></div>
                <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Return to Edgar. He will give you a Sacrificial Twig.</span></div>
                <div class="quest-item" data-questline="IrinaEdgar Hyetta"><input type="checkbox" class="mr-2"><span>Return to Irina’s location near the Bridge of Sacrifice and speak to Edgar.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Fourth Church of Marika in the Weeping Peninsula (west of the nomadic merchant).</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>DEFEAT MARGIT, THE FELL OMEN at the entrance to Stormveil Castle.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Castleward Tunnel Site of Grace after defeating Margit.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Talisman Pouch]</span>Obtained after defeating Margit, the Fell Omen.</span></div>
                <div class="quest-item" data-questline="Gostoc Nepheli Kenneth"><input type="checkbox" class="mr-2"><span>Meet Gatekeeper Gostoc by the main gate of Stormveil Castle.</span></div>
                <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Meet Sorcerer Rogier in the chapel within Stormveil Castle.</span></div>
                <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Examine Rogier’s bloodstain beneath Stormveil Castle (near the Ulcerated Tree Spirit).</span></div>
                <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Obtain the Chrysalids’ Memento from a pile of bodies guarded by dogs in Stormveil Castle.</span></div>
                <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Return the Chrysalids’ Memento to Roderika (either at Stormhill Shack or Roundtable Hold).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Roderika"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Given by Roderika at Roundtable Hold after giving her the Chrysalids' Memento (or found at Stormhill Shack if she leaves before you give it).</span></div>
                <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Meet Nepheli Loux in a room before Godrick the Grafted in Stormveil Castle (or near the Secluded Cell Site of Grace if Gostoc opened the main gate).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Liftside Chamber Site of Grace in Stormveil Castle.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found in Stormveil Castle, on a ledge in the courtyard with many Exiled Soldiers. Drop down from the Liftside Chamber Site of Grace area.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Dropped by the Ulcerated Tree Spirit at the bottom of Stormveil Castle (accessible from Liftside Chamber Site of Grace; go down the lift and explore outside).</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>DEFEAT GODRICK THE GRAFTED in Stormveil Castle.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Godrick the Grafted Site of Grace.</span></div>
                <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Speak to Sorcerer Rogier in Roundtable Hold about the source of his affliction.</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Speak to Finger Reader Enia in Roundtable Hold after obtaining a Great Rune until her dialogue repeats.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Talisman Pouch]</span>Rewarded by Finger Reader Enia after acquiring two Great Runes.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Can be purchased from the Twin Maiden Husks at Roundtable Hold.</span></div>
                <div class="quest-item" data-questline="Gideon Nepheli"><input type="checkbox" class="mr-2"><span>Speak to Sir Gideon Ofnir in Roundtable Hold after defeating Godrick.</span></div> 
                <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Speak to Nepheli Loux in Roundtable Hold (near Gideon's study) after defeating Godrick.</span></div>
                <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Speak to Roderika and Smithing Master Hewg in Roundtable Hold multiple times until Hewg agrees to mentor Roderika.</span></div>
                <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Return to the room where you found the Chrysalids’ Memento in Stormveil Castle to find the Crimson Hood.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Hyetta"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Lake-Facing Cliffs Site of Grace in Liurnia of the Lakes.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Church of Irith in Liurnia of the Lakes, just after exiting Stormveil Castle.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Thops"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Church of Irith Site of Grace.</span></div>
                <div class="quest-item" data-questline="Hyetta IrinaEdgar"><input type="checkbox" class="mr-2"><span>Meet Hyetta at the Lake-Facing Cliffs Site of Grace in Liurnia and give her a Shabriri Grape. (One can be found in Stormveil Castle, near Godrick's throne room, after he's defeated).</span></div>
                <div class="quest-item" data-questline="Thops"><input type="checkbox" class="mr-2"><span>Meet Thops at the Church of Irith in Liurnia.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Rya"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Scenic Isle Site of Grace or Laskyar Ruins Site of Grace in Liurnia.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor"><input type="checkbox" class="mr-2"><span>Meet Rya in Liurnia, near the Laskyar Ruins or the Scenic Isle Site of Grace. She will ask you to retrieve her necklace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found west of the Academy Gate Town Site of Grace in Liurnia.</span></div>
                <div class="quest-item" data-questline="Boggart Rya DungEater"><input type="checkbox" class="mr-2"><span>Meet Blackguard Boggart at Boilprawn Shack in Liurnia. Buy Rya's Necklace from him (or kill him for it) and purchase Boiled Prawn.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Boggart"><input type="checkbox" class="mr-2"><span>Return Rya’s Necklace to her. She will give you an invitation to Volcano Manor.</span></div>
                <div class="quest-item" data-questline="Nepheli Gideon Seluvis"><input type="checkbox" class="mr-2"><span>Meet Nepheli Loux at the Village of the Albinaurics in Liurnia. Exhaust her dialogue, then defeat the Omenkiller boss there.</span></div>
                <div class="quest-item" data-questline="Albus Latenna"><input type="checkbox" class="mr-2"><span>In the Village of the Albinaurics, find Albus disguised as a pot. Attack the pot to reveal him and obtain the Haligtree Secret Medallion (Right).</span></div>
                <div class="quest-item" data-questline="Latenna Albus"><input type="checkbox" class="mr-2"><span>Find Latenna the Albinauric at Slumbering Wolf’s Shack in Liurnia (accessed through Lakeside Crystal Cave, south of the Village).</span></div>
                <div class="quest-item" data-questline="Latenna Albus"><input type="checkbox" class="mr-2"><span>Show Latenna the Haligtree Secret Medallion (Right) and promise to take her to the Haligtree. She will become a Spirit Ash.</span></div>
                <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Find Hyetta at the Purified Ruins (west Liurnia lake) and give her a Shabriri Grape. (One is dropped by Edgar the Revenger).</span></div>
                <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Speak to White Mask Varre at Rose Church in west Liurnia until his dialogue repeats.</span></div>
                <div class="quest-item" data-questline="IrinaEdgar Hyetta"><input type="checkbox" class="mr-2"><span>Defeat Edgar the Revenger (invader) at Revenger’s Shack in western Liurnia. He drops a Shabriri Grape.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Diallos"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Academy Gate Town Site of Grace in Liurnia.</span></div>
                <div class="quest-item" data-questline="Diallos Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Find Diallos mourning Lanya northeast of the Academy Gate Town Site of Grace in Liurnia. Exhaust his dialogue.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Gate Town Bridge Site of Grace in Liurnia.</span></div>
                <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Find Hyetta north of the Gate Town Bridge Site of Grace in Liurnia and give her a Shabriri Grape.</span></div>
                <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Tell Hyetta the truth about the Shabriri Grapes.</span></div>
                <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Rest or explore, then speak to Hyetta again until she talks about becoming a Finger Maiden. Exhaust her dialogue.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Boc"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Gold Sewing Needle]</span>Collect from a chest in the Church of Vows, eastern Liurnia.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found in Ravine-Veiled Village, at the far north end of the Liurnia ravine leading to Altus Plateau.</span></div>
                <div class="quest-item" data-questline="Fia Rogier D"><input type="checkbox" class="mr-2"><span>Speak to Fia in Roundtable Hold again.</span></div>
                <div class="quest-item" data-questline="Rogier Fia Ranni D"><input type="checkbox" class="mr-2"><span>Obtain the Black Knifeprint from a chest behind an illusory wall after the Cemetery Shade boss in Black Knife Catacombs (northeast Liurnia).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq Rogier Fia Ranni D"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Defeat the Cemetery Shade boss in Black Knife Catacombs and find the Deathroot in a chest. This is the third Deathroot.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Give Gurranq the third Deathroot at the Bestial Sanctum. Reward: Bestial Vitality Incantation.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Defeat the Tibia Mariner east of the Liurnia Highway South Site of Grace, near Tibia's Summons Site of Grace. This is the fourth Deathroot.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Give Gurranq the fourth Deathroot at the Bestial Sanctum. He will become hostile. Subdue him (do not kill). After he calms down, speak to him again. Reward: Ash of War: Beast's Roar.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Found in a chest on the top floor of the Converted Tower in Western Liurnia. Solve the "Erudition guide thee!" puzzle or use Torrent to reach it.</span></div>
                <div class="quest-item" data-questline="Rogier Fia D Ranni"><input type="checkbox" class="mr-2"><span>Give the Black Knifeprint to Sorcerer Rogier in Roundtable Hold.</span></div>
                <div class="quest-item" data-questline="Fia Rogier D"><input type="checkbox" class="mr-2"><span>Speak to Fia in Roundtable Hold after giving the Knifeprint to Rogier.</span></div> 
                <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Speak to Nepheli Loux in Roundtable Hold. (She may have moved downstairs, near Hewg).</span></div>
                <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Find Nepheli downstairs near the Stonesword Key rooms at Roundtable Hold (if not already spoken to there).</span></div>
                <div class="quest-item" data-questline="Gideon Nepheli"><input type="checkbox" class="mr-2"><span>Speak to Sir Gideon Ofnir about Nepheli's despair.</span></div>
                <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Find the Stormhawk King ashes at the Chapel of Anticipation (accessed via an Imbued Sword Key waygate at The Four Belfries).</span></div>
                <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Give the Stormhawk King ashes to Nepheli Loux in Roundtable Hold.</span></div>
                <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Speak to Nepheli Loux until her dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Diallos Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Speak to Diallos in Roundtable Hold until his dialogue repeats (if he returned after Liurnia). He will mention leaving to find his purpose.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Yura"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Main Academy Gate Site of Grace in Raya Lucaria.</span></div>
                <div class="quest-item" data-questline="Yura Shabriri"><input type="checkbox" class="mr-2"><span>Find Yura's red summon sign north of the Main Academy Gate Site of Grace (Raya Lucaria) and assist him against a Bloody Finger.</span></div>
                <div class="quest-item" data-questline="Yura Shabriri"><input type="checkbox" class="mr-2"><span>Speak to Yura nearby after the fight.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found inside Raya Lucaria Academy, in the courtyard before the Debate Parlor Site of Grace.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Thops"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Schoolhouse Classroom Site of Grace in Raya Lucaria Academy.</span></div>
                <div class="quest-item" data-questline="Thops Sellen"><input type="checkbox" class="mr-2"><span>Obtain a second Academy Glintstone Key from a chandelier in the Church of the Cuckoo within Raya Lucaria Academy (accessed via rooftops).</span></div>
                <div class="quest-item" data-questline="Thops Sellen"><input type="checkbox" class="mr-2"><span>Give the second Academy Glintstone Key to Thops at the Church of Irith.</span></div>
                <div class="quest-item" data-questline="Thops Sellen"><input type="checkbox" class="mr-2"><span>Later, find Thops's body just outside the Schoolhouse Classroom Site of Grace in Raya Lucaria Academy. Collect Thops's Bell Bearing, Thops's Barrier spell, and an Academy Glintstone Key.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Thops"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Larval Tear]</span>A Teardrop Scarab drops a Larval Tear where Thops's body was found (reload area if needed).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Debate Parlor Site of Grace after defeating Red Wolf of Radagon.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Dropped by the Red Wolf of Radagon boss in Raya Lucaria Academy.</span></div>
                <div class="quest-item" data-questline="MainProgression Boc Ranni"><input type="checkbox" class="mr-2"><span>DEFEAT RENNALA, QUEEN OF THE FULL MOON in Raya Lucaria Academy.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Boc"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Raya Lucaria Grand Library Site of Grace after defeating Rennala.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Boc"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the East Raya Lucaria Gate Site of Grace.</span></div>
                <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Give the Gold Sewing Needle to Boc the Seamster. (He can be found at the East Raya Lucaria Gate Site of Grace or other locations he moves to. This allows alteration of demigod apparel.)</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Hyetta"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Bellum Church Site of Grace in northern Liurnia.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from Bellum Church in northern Liurnia, on the way to the Grand Lift of Dectus.</span></div>
                <div class="quest-item" data-questline="Hyetta Varre"><input type="checkbox" class="mr-2"><span>Meet Hyetta at Bellum Church in Liurnia. She will ask for a Fingerprint Grape.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Church of Inhibition in northeastern Liurnia (requires navigating a madness-inducing tower or cliffs).</span></div>
                <div class="quest-item" data-questline="Hyetta Varre YuraShabriri"><input type="checkbox" class="mr-2"><span>Defeat Festering Fingerprint Vyke (invader) near the Church of Inhibition. He drops a Fingerprint Grape.</span></div>
                <div class="quest-item" data-questline="Hyetta Varre"><input type="checkbox" class="mr-2"><span>Give the Fingerprint Grape to Hyetta at Bellum Church.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found outside Caria Manor (upper level), near the Manor Upper Level Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Found in a chest at the top of Testu's Rise in Northern Liurnia (near Sorcerer's Isle). Solve the "Seek three wise beasts" puzzle.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Iji Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Road to the Manor Site of Grace in western Liurnia.</span></div>
                <div class="quest-item" data-questline="Iji Ranni Blaidd Seluvis"><input type="checkbox" class="mr-2"><span>Meet War Counselor Iji on the road leading to Caria Manor in western Liurnia.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis Rogier Fia"><input type="checkbox" class="mr-2"><span>After clearing Caria Manor, meet Ranni the Witch in Ranni’s Rise (Three Sisters area).</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis"><input type="checkbox" class="mr-2"><span>Agree to serve Ranni.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis"><input type="checkbox" class="mr-2"><span>Speak to the spectral forms of Blaidd, Iji, and Preceptor Seluvis in Ranni's Rise, then speak to Ranni again.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Found in a chest at the top of Seluvis's Rise (Three Sisters area, after starting Ranni's quest).</span></div>
                <div class="quest-item" data-questline="Seluvis Ranni Sellen Gideon Nepheli DungEater"><input type="checkbox" class="mr-2"><span>Meet Preceptor Seluvis in his tower (Seluvis's Rise) and speak to him. He will give you Seluvis's Potion.</span></div>
                <div class="quest-item" data-questline="Seluvis Gideon Nepheli DungEater Ranni"><input type="checkbox" class="mr-2"><span>Decide who to give Seluvis’s Potion to: Option 1: Sir Gideon Ofnir (he disposes of it; Nepheli survives). Option 2: Nepheli Loux (she becomes a puppet; Seluvis offers Dolores the Sleeping Arrow Puppet). Option 3: The Dung Eater (he becomes a puppet; Seluvis offers Dung Eater Puppet). (Note: Pidia, Carian Servant at Caria Manor, sells puppets if certain conditions are met).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Blaidd"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Siofra River Bank Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Siofra River, on a small island south of the Worshippers' Woods Site of Grace (requires using a Spiritspring jump).</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Seluvis Sellen"><input type="checkbox" class="mr-2"><span>Find Blaidd in Siofra River (near Hallowhorn Grounds) after starting Ranni's quest. He will mention needing to find Nokron.</span></div>
                <div class="quest-item" data-questline="Seluvis Ranni Sellen Blaidd"><input type="checkbox" class="mr-2"><span>Speak to Seluvis at his tower. He will suggest speaking to Sorceress Sellen and give you Seluvis's Introduction.</span></div>
                <div class="quest-item" data-questline="Sellen Seluvis"><input type="checkbox" class="mr-2"><span>Give Seluvis’s Introduction to Sorceress Sellen in Waypoint Ruins (Limgrave).</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Seluvis Sellen"><input type="checkbox" class="mr-2"><span>Inform Blaidd in Siofra River about Sellen's advice (that Starscourge Radahn must be defeated).</span></div>
                <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Speak to Gowry in Gowry’s Shack in Caelid (near Sellia Gateway).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Sellia, Town of Sorcery, under a Phantom Tree in the northern section of town (after lighting the braziers).</span></div>
                <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Defeat Commander O’Neil in the Swamp of Aeonia (Caelid) to obtain the Unalloyed Gold Needle.</span></div>
                <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Return the Unalloyed Gold Needle to Gowry. Reload the area and speak to him again to receive the repaired needle and learn about Millicent.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Millicent"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Church of the Plague Site of Grace in Caelid.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Church of the Plague in Caelid (overlooking Sellia and Gowry's Shack). Millicent is here.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Give the repaired Unalloyed Gold Needle to Millicent at the Church of the Plague.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Rest at a Site of Grace and speak to Millicent again until her dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Return to Gowry’s Shack and speak to Millicent there (if she moved).</span></div>
                <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Reload the area and speak to Gowry in his shack.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>South Caelid, following the road to Redmane Castle, south of where it splits near a Nomadic Merchant.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Dragonbarrow, on the path to the Bestial Sanctum from Lenne's Rise.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Found in a chest at the top of Lenne's Rise in eastern Dragonbarrow, Caelid (use the Spiritspring jump to access the balcony).</span></div>
                <div class="quest-item" data-questline="MainProgression Blaidd Alexander Jerren Ranni ErdtreeDLC"><input type="checkbox" class="mr-2"><span>DEFEAT STARCOURGE RADAHN at the Redmane Castle Festival in Caelid.</span></div>
                <p class="info-paragraph">*** One of the prerequisites for starting the Shadow of the Erdtree DLC is to defeat Starscourge Radahn. ***</p>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Starscourge Radahn Site of Grace in the Wailing Dunes.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Dropped by the Putrid Tree Spirit boss at the end of the War-Dead Catacombs in Caelid (accessed after defeating Radahn).</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Alexander Jerren"><input type="checkbox" class="mr-2"><span>Speak to Blaidd in Radahn’s arena after the festival.</span></div>
                <div class="quest-item" data-questline="Alexander Blaidd Jerren Jarburg"><input type="checkbox" class="mr-2"><span>Speak to Iron Fist Alexander in Radahn’s arena.</span></div>
                <div class="quest-item" data-questline="Jerren Sellen Blaidd Ranni"><input type="checkbox" class="mr-2"><span>Speak to Witch-Hunter Jerren in the chapel of Redmane Castle until his dialogue repeats (after Radahn).</span></div>
                <div class="quest-item" data-questline="Alexander Jarburg"><input type="checkbox" class="mr-2"><span>Find Iron Fist Alexander stuck again south of the Carian Study Hall, above Jarburg in Liurnia. Use an Oil Pot to free him.</span></div>
                <div class="quest-item" data-questline="Jarburg Alexander Diallos"><input type="checkbox" class="mr-2"><span>Speak to Jar-Bairn in Jarburg until their dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Ranni Fia MainProgression"><input type="checkbox" class="mr-2"><span>Enter the crater south of Mistwood (formed after Radahn's defeat) and navigate to Nokron, Eternal City.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Nokron, Eternal City Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Nokron, Eternal City, near the Ancestral Woods Site of Grace, before the drop to the Mimic Tear boss.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Ancestral Woods Site of Grace in Nokron.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis Fia Rogier"><input type="checkbox" class="mr-2"><span>Find the Fingerslayer Blade in a chest under the giant skeleton throne in Night's Sacred Ground (Nokron).</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>REACH ALTUS PLATEAU. (via Grand Lift of Dectus, Ruin-Strewn Precipice, or Magma Wyrm Makar).</span></div>
                <p class="info-paragraph">*** Turning point of the game. Certain side quests will be locked or changed if not progressed by this point. ***</p>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Altus Plateau Site of Grace (first one encountered, e.g. Erdtree-Gazing Hill or Altus Highway Junction).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found right next to the road heading north from the Altus Highway Junction Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Underneath a Phantom Tree at the Erdtree-Gazing Hill Site of Grace, north of the Lux Ruins.</span></div>
                <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Speak to Boc the Seamster near the Altus Highway Junction Site of Grace.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Speak to Millicent north of the Erdtree-Gazing Hill Site of Grace in Altus Plateau.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Speak to Brother Corhyn in Roundtable Hold. He will mention leaving to find Goldmask. (If not already done).</span></div>
                <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Speak to Sorcerer Rogier in Roundtable Hold until his dialogue repeats. He will eventually give you Rogier's Rapier +8 and may fall into a deep slumber.</span></div>
                <div class="quest-item" data-questline="Fia D Rogier"><input type="checkbox" class="mr-2"><span>Speak to Fia in Roundtable Hold. If Rogier is near death or has died, she may give you the Weathered Dagger.</span></div>
                <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>Give the Weathered Dagger to D, Hunter of the Dead, in Roundtable Hold.</span></div>
                <div class="quest-item" data-questline="Fia D Rogier"><input type="checkbox" class="mr-2"><span>Reload Roundtable Hold. Fia will have moved to a new room past Smithing Master Hewg. Speak to her until her dialogue repeats. She will then depart.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Brother Corhyn north of the Altus Highway Junction Site of Grace in Altus Plateau.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Second Church of Marika in Altus Plateau (north of Altus Highway Junction).</span></div>
                <div class="quest-item" data-questline="Yura Shabriri Eleonora"><input type="checkbox" class="mr-2"><span>At the Second Church of Marika, speak to Yura (or Shabriri if Yura is dead). You will be invaded by Eleonora, Violet Bloody Finger. Defeat her.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Forest-Spanning Greatbridge Site of Grace in Altus Plateau.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Goldmask on the broken greatbridge in northern Altus Plateau (near the Forest-Spanning Greatbridge Site of Grace). Report his location to Corhyn.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Reload the area and speak to Corhyn next to Goldmask until their dialogue repeats.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Defeat the Tibia Mariner in Wyndham Ruins, Altus Plateau. This is the fifth Deathroot.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Give Gurranq the fifth Deathroot at the Bestial Sanctum. Reward: Beast Claw incantation.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Northwest of the Minor Erdtree in Altus Plateau (near Woodfolk Ruins).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from Stormcaller Church in Altus Plateau (near the Rampartside Path Site of Grace, south of the walls of Leyndell).</span></div>
                <div class="quest-item" data-questline="Varre VolcanoManor"><input type="checkbox" class="mr-2"><span>Complete three invasions using the Festering Bloody Fingers given by Varre, OR defeat Magnus the Beast Claw in Writheblood Ruins (west of Altus Plateau Minor Erdtree).</span></div>
                <div class="quest-item" data-questline="Varre Hyetta"><input type="checkbox" class="mr-2"><span>Return to Varre at Rose Church. He will anoint you and give you the Lord of Blood's Favor.</span></div> 
                <div class="quest-item" data-questline="Varre Hyetta"><input type="checkbox" class="mr-2"><span>Soak the Lord of Blood's Favor in the blood of a deceased Finger Maiden. (Options: Church of Inhibition in Liurnia, Chapel of Anticipation via The Four Belfries, or by killing Hyetta).</span></div>
                <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Give the blood-soaked Lord of Blood’s Favor to Varre at Rose Church. He will give you the Pureblood Knight's Medal.</span></div>
                <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>In Siofra Aqueduct (Nokron, after the Valiant Gargoyle duo boss fight), find D's twin brother. Give him the unaltered Twinned Armor set (obtained from D's body in Roundtable Hold).</span></div>
                <div class="quest-item" data-questline="Fia D Rogier MainProgression"><input type="checkbox" class="mr-2"><span>Use the coffin in the Valiant Gargoyle boss arena to travel to Deeproot Depths.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Fia"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate The Nameless Eternal City Site of Grace or Across the Roots Site of Grace in Deeproot Depths.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found near the Grand Cloister Site of Grace in the Lake of Rot. Follow the river of rot backward; a Putrid Tree Spirit will appear. Defeat it to get the seed.</span></div>
                <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>In Deeproot Depths, find Fia at the Prince of Death's Throne. Speak to her and accept her embrace.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Alexander"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Seethewater Terminus Site of Grace in Mt. Gelmir.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Under a Phantom Tree as you exit the narrow channel north of Seethewater River, on the way to Mt. Gelmir.</span></div>
                <div class="quest-item" data-questline="Alexander Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Find Iron Fist Alexander bathing in the lava lake at Seethewater Terminus, Mt. Gelmir. Speak to him.</span></div>
                <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Find Primeval Sorcerer Azur at Hermit Village in Mt. Gelmir and accept his sorcery (Comet Azur).</span></div>
                <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Show Sorceress Sellen the Comet Azur sorcery at Waypoint Ruins. She will ask you to find Master Lusat.</span></div>
                <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Find Master Lusat in Sellia Hideaway (Caelid, behind an illusory wall in a graveyard near Church of the Plague) and accept his sorcery (Stars of Ruin).</span></div>
                <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Show Sorceress Sellen the Stars of Ruin sorcery at Waypoint Ruins. She will ask you to find her real body.</span></div>
                <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Meet Sorceress Sellen at Witchbane Ruins in the Weeping Peninsula (her original body, imprisoned). She will give you Sellen's Primal Glintstone.</span></div>
                <div class="quest-item" data-questline="Jerren Sellen"><input type="checkbox" class="mr-2"><span>Reload Witchbane Ruins and speak to Witch-Hunter Jerren there.</span></div>
                <div class="quest-item" data-questline="Seluvis Sellen Ranni"><input type="checkbox" class="mr-2"><span>Find Seluvis's hidden puppet cellar near Seluvis's Rise (Three Sisters) and interact with the Sellen puppet lookalike. (This progresses Sellen's quest if Seluvis is still alive and his quest active).</span></div>
                <div class="quest-item" data-questline="Sellen Jerren Ranni"><input type="checkbox" class="mr-2"><span>At the Raya Lucaria Grand Library (after Rennala's boss fight), find two summon signs. Choose to assist Sorceress Sellen (rewards: Eccentric's Set, Sellen sells new spells) OR Witch-Hunter Jerren (reward: Ancient Dragon Smithing Stone). (This happens after Sellen asks you to take her Primal Glintstone to another body, and Jerren has moved from Redmane).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Found in a chest after defeating the Red Wolf of the Champion in Gelmir Hero's Grave (Mt. Gelmir). This is the sixth Deathroot.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Give Gurranq the sixth Deathroot at the Bestial Sanctum. Reward: Stone of Gurranq incantation.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Memory Stone]</span>Dropped by Demi-Human Queen Maggie, an optional boss in the northeast of Hermit Village, Mt. Gelmir.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Found after the Full-Grown Fallingstar Beast boss fight on Mt. Gelmir, on the path leading towards Volcano Manor.</span></div>
                <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>If progressing Seluvis's quest: Purchase a puppet from Seluvis at his tower.</span></div>
                <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Reload the area and ask Seluvis if you can have another puppet.</span></div>
                <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Purchase any remaining puppets Seluvis offers (requires Starlight Shards).</span></div>
                <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Reload the area and ask Seluvis about his scheme.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Amber Starlight]</span>Find the Amber Starlight shard in a small cave northeast of the Altus Highway Junction Site of Grace (Altus Plateau).</span></div>
                <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Give Seluvis the Amber Starlight shard to receive the Magic Scorpion Charm. (Warning: Giving Ranni the Amber Draught he offers will prematurely end her questline.)</span></div>
                <div class="quest-item" data-questline="Ranni Seluvis Iji Blaidd Fia Rogier"><input type="checkbox" class="mr-2"><span>Return the Fingerslayer Blade (from Nokron) to Ranni at Ranni's Rise. (This will result in Seluvis's death.)</span></div>
                <div class="quest-item" data-questline="Iji Ranni Blaidd"><input type="checkbox" class="mr-2"><span>Speak to War Counselor Iji. He will mention that Blaidd has been imprisoned in the Forlorn Hound Evergaol.</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Iji"><input type="checkbox" class="mr-2"><span>Go to the Forlorn Hound Evergaol and free Blaidd.</span></div>
                <div class="quest-item" data-questline="Iji Ranni Blaidd"><input type="checkbox" class="mr-2"><span>Speak to Iji again after freeing Blaidd.</span></div>
                <div class="quest-item" data-questline="Ranni Fia Rogier"><input type="checkbox" class="mr-2"><span>Ranni will give you the Carian Inverted Statue. Use it at the Carian Study Hall to invert the tower and reach the Divine Tower of Liurnia.</span></div>
                <div class="quest-item" data-questline="Ranni Fia Rogier"><input type="checkbox" class="mr-2"><span>Collect the Cursemark of Death from the top of the Divine Tower of Liurnia.</span></div>
                <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>Return to Fia at the Prince of Death's Throne in Deeproot Depths. Give her the Cursemark of Death.</span></div>
                <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>Reload the area and speak to Fia until her dialogue repeats. She will enter a slumber. Interact with her to enter the Deathbed Dream.</span></div>
                <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>Defeat Lichdragon Fortissax in the Deathbed Dream.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Fia"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Prince of Death's Throne Site of Grace after defeating Lichdragon Fortissax.</span></div>
                <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>Reload the Prince of Death's Throne area. If you gave D's twin brother the Twinned Armor, he will be standing over Fia's body. Speak to him.</span></div>
                <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>Reload the area again to collect the Twinned Armor set and Fia's Set (including Fia's Hood).</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Go through the waygate in Renna’s Rise (Three Sisters area, now open). This leads to Ainsel River Main.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Ainsel River Main Site of Grace.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Collect the Miniature Ranni doll in Ainsel River Main.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Rest at the Ainsel River Main Site of Grace and speak with the Miniature Ranni doll multiple times until she responds.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Proceed through Nokstella, Eternal City, and defeat the Baleful Shadow (Blaidd's likeness). It drops the Discarded Palace Key.</span></div>
                <div class="quest-item" data-questline="Ranni Fia Rogier"><input type="checkbox" class="mr-2"><span>Use the Discarded Palace Key to unlock the chest next to Rennala in the Raya Lucaria Grand Library. Obtain the Dark Moon Ring.</span></div>
                <div class="quest-item" data-questline="Ranni"><input type="checkbox" class="mr-2"><span>Proceed through the Lake of Rot (past Nokstella) and enter the coffin in the Grand Cloister.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Grand Cloister Site of Grace in the Lake of Rot.</span></div>
                <div class="quest-item" data-questline="Ranni"><input type="checkbox" class="mr-2"><span>Defeat Astel, Naturalborn of the Void.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Astel, Naturalborn of the Void Site of Grace.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Proceed to the Moonlight Altar and enter the Cathedral of Manus Celes. Find Ranni's body in the hole in the floor.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Ranni"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Cathedral of Manus Celes Site of Grace.</span></div>
                <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Place the Dark Moon Ring on Ranni's finger. She will awaken. Exhaust her dialogue to receive the Dark Moon Greatsword.</span></div>
                <div class="quest-item" data-questline="Blaidd Ranni Iji"><input type="checkbox" class="mr-2"><span>Return to Ranni’s Rise. Blaidd will be hostile. Defeat him to obtain his armor and weapon.</span></div>
                <div class="quest-item" data-questline="Iji Ranni Blaidd"><input type="checkbox" class="mr-2"><span>Speak to War Counselor Iji about Blaidd and Ranni. Reload the area to find Iji's body and his Bell Bearing.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Speak to Rya. (Find her at Lux Ruins in Altus Plateau if you haven't used the Dectus Medallion, or at the Grand Lift of Dectus if you have. She can also be found near Erdtree-Gazing Hill.) She will invite you to Volcano Manor and can teleport you there.</span></div>
                <div class="quest-item" data-questline="MainProgression VolcanoManor"><input type="checkbox" class="mr-2"><span>REACH VOLCANO MANOR. (Can also be reached by foot via Mt. Gelmir, or by being abducted by an Abductor Virgin in Raya Lucaria and navigating the subsequent area.)</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression VolcanoManor"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Volcano Manor Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Inside Volcano Manor legacy dungeon, after navigating through the lava town area, before the Temple of Eiglay.</span></div>
                <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya Diallos"><input type="checkbox" class="mr-2"><span>Meet Lady Tanith in Volcano Manor and agree to join. Pick up the Recusant Finger and the letter from the drawing room table.</span></div>
                <div class="quest-item" data-questline="Diallos VolcanoManor Tanith Jarburg"><input type="checkbox" class="mr-2"><span>Speak to Diallos in Volcano Manor (if he joined) until his dialogue repeats.</span></div>
                <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches"><input type="checkbox" class="mr-2"><span>Assassinate Old Knight Istvan in Limgrave (near Stormhill, as per the first letter).</span></div>
                <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>Report back to Lady Tanith and receive another assassination Letter.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Find Rya in a side room in Volcano Manor. She will reveal her true (snake) form. Speak to her.</span></div>
                <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches"><input type="checkbox" class="mr-2"><span>Assassinate Rileigh the Idle in Altus Plateau (as per the second letter).</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Obtain Valkyrie’s Prosthesis from a chest in The Shaded Castle, Altus Plateau (north).</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Give Valkyrie’s Prosthesis to Millicent at the Erdtree-Gazing Hill Site of Grace in Altus Plateau.</span></div>
                <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>Report back to Lady Tanith and receive the Red Letter (for Juno Hoslow).</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Speak to Zorayas (Rya in snake form) about her troubles.</span></div>
                <div class="quest-item" data-questline="Bernahl VolcanoManor Tanith Patches"><input type="checkbox" class="mr-2"><span>Speak to Knight Bernahl in Volcano Manor to receive a Letter to Bernahl (an assassination co-op request).</span></div>
                <div class="quest-item" data-questline="Patches VolcanoManor Tanith Bernahl"><input type="checkbox" class="mr-2"><span>Speak to Patches in Volcano Manor (if he moved there) to receive a Letter to Patches (assassination request for Great Horned Tragoth).</span></div>
                <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches Alexander"><input type="checkbox" class="mr-2"><span>Complete Patches's assassination request: Defeat Great Horned Tragoth at the end of Ruin-Strewn Precipice (near Magma Wyrm Makar's arena).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="VolcanoManor Rya"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Temple of Eiglay Site of Grace after defeating Godskin Noble.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Navigate Volcano Manor and defeat the Godskin Noble at the Temple of Eiglay. Obtain the Serpent’s Amnion from the altar.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Give the Serpent’s Amnion to Rya (Zorayas).</span></div>
                <div class="quest-item" data-questline="Tanith VolcanoManor Rya"><input type="checkbox" class="mr-2"><span>Rest at a Site of Grace and speak to Lady Tanith about Rya's absence.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Find Rya in a hidden side room near the Temple of Eiglay (accessible via a Stonesword Key or a hidden path). Speak to her.</span></div>
                <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Decide Rya's fate: Option 1: Kill her (she drops Daedicar’s Woe). Option 2: Give her the Tonic of Forgetfulness (from Tanith, obtained after talking to her about Rya's location; Rya remains, and Daedicar's Woe can be found after Rykard is defeated and others leave). Option 3: Leave her and return after defeating Rykard (she will be gone, leaving Daedicar’s Woe and Zorayas’ Letter).</span></div>
                <div class="quest-item" data-questline="Diallos VolcanoManor Tanith Jarburg"><input type="checkbox" class="mr-2"><span>Return to Volcano Manor and speak to Diallos until his dialogue repeats. He will then leave for Jarburg.</span></div>
                <div class="quest-item" data-questline="Diallos Jarburg Alexander VolcanoManor"><input type="checkbox" class="mr-2"><span>Speak to Jar-Bairn and Diallos in Jarburg until their dialogue repeats (after Diallos arrives).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Underneath a Phantom Tree southeast of Windmill Village in Altus Plateau, on the road to the capital.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Defeat the Godskin Apostle at the top of Dominula, Windmill Village in Altus Plateau. Rest at the Site of Grace and speak to Millicent there until her dialogue repeats.</span></div>
                <div class="quest-item" data-questline="Boggart Rya DungEater"><input type="checkbox" class="mr-2"><span>Speak to Blackguard Boggart in the outer moat near Leyndell, Royal Capital (near the Capital Rampart Site of Grace) and buy Boiled Crab.</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>ENTER LEYNDELL, ROYAL CAPITAL.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Outer Wall Phantom Tree Site of Grace in Capital Outskirts.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>TWO (2) can be found underneath the Phantom Tree inside the western gate of the Capital Outskirts (near Outer Wall Phantom Tree Site of Grace).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Dropped by the Lesser Ulcerated Tree Spirit in an unmarked military camp south of the Outer Wall Phantom Tree Site of Grace (Capital Outskirts).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>TWO (2) can be found underneath the Phantom Tree in the northwestern section of the Capital Outskirts (near Outer Wall Battleground Site of Grace).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Avenue Balcony Site of Grace in Leyndell.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Dropped by the Lesser Ulcerated Tree Spirit directly north of the Avenue Balcony Site of Grace in Leyndell, Royal Capital.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Boc"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the East Capital Rampart Site of Grace.</span></div>
                <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Speak to Boc the Seamster at the East Capital Rampart Site of Grace.</span></div>
                <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Decide Boc's fate: Option 1 (Good Ending): Use the "You're Beautiful" Prattling Pate in front of him. Option 2 (Bad Ending): Give him a Larval Tear (he will move to Rennala's room and can be interacted with, but eventually dies).</span></div>
                <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>If "You're Beautiful" was used, reload the grace and speak to Boc again.</span></div>
                <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Find a Seedbed Curse within Leyndell, Royal Capital (e.g., in the Roundtable Hold replica building).</span></div>
                <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Speak to the Loathsome Dung Eater in Roundtable Hold (his phantom form appears after obtaining a Seedbed Curse). He will give you the Sewer-Gaol Key.</span></div>
                <div class="quest-item" data-questline="Bernahl VolcanoManor"><input type="checkbox" class="mr-2"><span>Find Knight Bernahl's red summon sign in Leyndell (near West Capital Rampart) and assist him against his targets.</span></div>
                <div class="quest-item" data-questline="Bernahl VolcanoManor Tanith Patches"><input type="checkbox" class="mr-2"><span>Report back to Knight Bernahl at Volcano Manor.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>Find Goldmask and Brother Corhyn near the Leyndell Colosseum and speak to them until their dialogue repeats.</span></div>
                <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Use the Sewer-Gaol Key to open the Dung Eater's cell in the Subterranean Shunning-Grounds (accessed via a well in Leyndell) and speak to his physical body.</span></div>
                <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Return to Roundtable Hold and find a message from the Dung Eater in his usual spot: "I'll defile you next. Come to the outer moat."</span></div>
                <div class="quest-item" data-questline="Boggart DungEater Rya"><input type="checkbox" class="mr-2"><span>Speak to Blackguard Boggart near the Leyndell outer moat. He will mention the Dung Eater.</span></div>
                <div class="quest-item" data-questline="DungEater Boggart Rya"><input type="checkbox" class="mr-2"><span>Reload the area. Find Boggart dying. The Dung Eater will invade; defeat him.</span></div>
                <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Speak to the Dung Eater's phantom form in Roundtable Hold again.</span></div>
                <div class="quest-item" data-questline="DungEater Boggart Seluvis"><input type="checkbox" class="mr-2"><span>Return to the Dung Eater's cell in the Subterranean Shunning-Grounds. Give his physical body five Seedbed Curses to obtain the Mending Rune of the Fell Curse. (This can be done any time before the end of the game.)</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>Obtain the Law of Regression incantation. (Requires giving the Golden Order Principia prayerbook to Brother Corhyn or Miriel, Pastor of Vows, and then purchasing it.)</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Corhyn Goldmask"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Erdtree Sanctuary Site of Grace after defeating Godfrey, First Elden Lord (Golden Shade).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Talisman Pouch]</span>Upon defeating Godfrey, First Elden Lord (Golden Shade) in Leyndell, Royal Capital (Erdtree Sanctuary).</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>West of the Erdtree Sanctuary Site of Grace in Leyndell, find a statue of Radagon with a white message. Cast Law of Regression before it to reveal a secret.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>Report the revelation to Goldmask (near the Colosseum).</span></div>
                <div class="quest-item" data-questline="MainProgression Hyetta"><input type="checkbox" class="mr-2"><span>DEFEAT MORGOTT, THE OMEN KING in Leyndell, Royal Capital.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Hyetta"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Elden Throne Site of Grace after defeating Morgott.</span></div>
                <div class="quest-item" data-questline="Hyetta MainProgression YuraShabriri"><input type="checkbox" class="mr-2"><span>After defeating Morgott, speak to Hyetta at the Frenzied Flame Proscription in the Subterranean Shunning-Grounds. (Warning: Meeting the Three Fingers by removing all armor and interacting with the door will lock you into the Lord of Frenzied Flame ending unless specific countermeasures are taken later.)</span></div>
                <div class="quest-item" data-questline="Hyetta MainProgression YuraShabriri"><input type="checkbox" class="mr-2"><span>If you met the Three Fingers, reload the area where Hyetta was to pick up the Frenzied Flame Seal.</span></div>
                <div class="quest-item" data-questline="Nepheli Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>After defeating Morgott and completing their individual quest steps, find Kenneth Haight, Nepheli Loux, and Gatekeeper Gostoc in the throne room of Stormveil Castle (past Godrick the Grafted's Site of Grace). Speak to them. Nepheli gives an Ancient Dragon Smithing Stone.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression VolcanoManor"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Shack of the Lofty Site of Grace in Mountaintops of the Giants.</span></div>
                <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches"><input type="checkbox" class="mr-2"><span>Complete the final Volcano Manor assassination: Juno Hoslow, Knight of Blood, in the Mountaintops of the Giants (near Shack of the Lofty).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Zamor Ruins Site of Grace in the Mountaintops of the Giants.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Near the Zamor Ruins Site of Grace in the Mountaintops of the Giants.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Brother Corhyn and Goldmask on the bridge south of Stargazer's Ruins in the Mountaintops of the Giants. Speak to them until their dialogue repeats.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Found in a chest after defeating the Ulcerated Tree Spirit in Giants' Mountaintop Catacombs (Mountaintops of the Giants). This is the seventh Deathroot.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Give Gurranq the seventh Deathroot at the Bestial Sanctum. Reward: Beastclaw Greathammer.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Foot of the Forge Site of Grace in the Mountaintops of the Giants.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>At the Foot of the Forge Site of Grace in the Mountaintops of the Giants, before the Fire Giant.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the First Church of Marika in the Mountaintops of the Giants (south of Freezing Lake).</span></div>
                <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>Speak to Lady Tanith at Volcano Manor after assassinating Juno Hoslow. She will offer to take you to Rykard, Lord of Blasphemy.</span></div>
                <div class="quest-item" data-questline="MainProgression VolcanoManor Tanith Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>DEFEAT RYKARD, LORD OF BLASPHEMY in Volcano Manor.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression VolcanoManor"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Rykard, Lord of Blasphemy Site of Grace.</span></div>
                <div class="quest-item" data-questline="Bernahl VolcanoManor Tanith Patches"><input type="checkbox" class="mr-2"><span>Speak to Knight Bernahl in Volcano Manor after Rykard's defeat. He will depart.</span></div>
                <div class="quest-item" data-questline="Patches VolcanoManor Tanith Bernahl"><input type="checkbox" class="mr-2"><span>Speak to Patches. He may give you Dancer's Castanets for Tanith. He will then depart The Shaded Castle or Volcano Manor.</span></div>
                <div class="quest-item" data-questline="Patches VolcanoManor Tanith Bernahl"><input type="checkbox" class="mr-2"><span>After Rykard's defeat, find Tanith in Rykard's arena. Give her the Dancer's Castanets. You can then choose to leave her or attack her (which will trigger her bodyguard).</span></div>
                <div class="quest-item" data-questline="Patches VolcanoManor"><input type="checkbox" class="mr-2"><span>Return to Murkwater Cave. Patches will attack. Do not kill him; let him surrender to receive his final gesture, Patches' Crouch.</span></div>
                <div class="quest-item" data-questline="Latenna Albus MainProgression"><input type="checkbox" class="mr-2"><span>Obtain the Haligtree Secret Medallion (Left) by defeating Commander Niall at Castle Sol in the Mountaintops of the Giants.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Sacred Tear]</span>Collect from the Church of Repose in the Mountaintops of the Giants (southwest of Giants' Gravepost Site of Grace, guarded by Bloody Finger Okina).</span></div>
                <div class="quest-item" data-questline="MainProgression Melina"><input type="checkbox" class="mr-2"><span>Defeat the Fire Giant. Speak with Melina at the Forge of the Giants and choose to commit the cardinal sin (unless pursuing Lord of Frenzied Flame ending without Miquella's Needle).</span></div>
                <p class="info-paragraph">*** Turning point of the game. Leyndell will become Ashen Capital. Certain quests will be locked or changed if not progressed by this point. ***</p>
                <div class="quest-item" data-questline="MainProgression Latenna Albus"><input type="checkbox" class="mr-2"><span>REACH CONSECRATED SNOWFIELD (Use both halves of the Haligtree Secret Medallion at the Grand Lift of Rold).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Latenna Albus"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Consecrated Snowfield Site of Grace (first one upon arrival).</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Dropped by an Ulcerated Tree Spirit on an invisible bridge in the Hidden Path to the Haligtree dungeon (accessed via Grand Lift of Rold with Haligtree Secret Medallion). This is the eighth Deathroot.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Give Gurranq the eighth Deathroot at the Bestial Sanctum. Reward: Gurranq's Beast Claw incantation.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Inner Consecrated Snowfield Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Consecrated Snowfield, south from the Inner Consecrated Snowfield Site of Grace, near a frozen river.</span></div>
                <div class="quest-item" data-questline="Latenna Albus"><input type="checkbox" class="mr-2"><span>At the Apostate Derelict in the northwest Consecrated Snowfield, find the giant Albinauric woman and summon Latenna the Albinauric (if you have her ashes and progressed her quest). She gives a Somber Ancient Dragon Smithing Stone.</span></div>
                <div class="quest-item" data-questline="Diallos Jarburg Alexander VolcanoManor"><input type="checkbox" class="mr-2"><span>Return to Jarburg and speak to Diallos until his dialogue repeats (after Volcano Manor events and some time has passed).</span></div>
                <div class="quest-item" data-questline="Jarburg Diallos Alexander"><input type="checkbox" class="mr-2"><span>Reload Jarburg and speak to Jar-Bairn. Diallos may be wounded or dead.</span></div>
                <div class="quest-item" data-questline="Jarburg Diallos Alexander"><input type="checkbox" class="mr-2"><span>Reload Jarburg again and speak to Jar-Bairn to conclude Diallos's storyline.</span></div>
                <div class="quest-item" data-questline="Varre MainProgression ErdtreeDLC"><input type="checkbox" class="mr-2"><span>ENTER MOHGWYN PALACE (Use the Pureblood Knight's Medal from Varre, or find the waygate in Consecrated Snowfield west).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Varre"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Mausoleum Dynasty Midpoint Site of Grace in Mohgwyn Palace.</span></div>
                <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>For Varre's quest: Use the Festering Bloody Fingers to invade other players three times in the blood lake area of Mohgwyn Palace. (This step fails if Mohg is defeated beforehand).</span></div>
                <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Find and defeat White Mask Varre via his red invasion sign near the Mausoleum Dynasty Midpoint Site of Grace. Speak to him after to get Varre's Bouquet.</span></div>
                <div class="quest-item" data-questline="MainProgression Gideon ErdtreeDLC Varre"><input type="checkbox" class="mr-2"><span>DEFEAT MOHG, LORD OF BLOOD in Mohgwyn Palace.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression ErdtreeDLC"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Cocoon of the Empyrean Site of Grace (Mohg's arena).</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC MainProgression"><input type="checkbox" class="mr-2"><span>REST AT THE COCOON OF THE EMPYREAN SITE OF GRACE.</span></div>
                <p class="info-paragraph">*** This is the entry point for the Shadow of the Erdtree DLC. However, the DLC can be started/completed at any time after this. Mohg, Lord of Blood must be defeated. ***</p>
                <div class="quest-item" data-questline="MainProgression Latenna Millicent"><input type="checkbox" class="mr-2"><span>REACH MIQUELLA’S HALIGTREE (Solve the Ordina, Liturgical Town puzzle in the Consecrated Snowfield).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Latenna Millicent"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Haligtree Canopy Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Miquella's Haligtree, after the Loretta, Knight of the Haligtree boss fight, on the main path.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Millicent"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Prayer Room Site of Grace in Miquella's Haligtree.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Speak to Millicent near the Prayer Room Site of Grace in Miquella's Haligtree.</span></div>
                <div class="quest-item" data-questline="MainProgression Gideon Millicent"><input type="checkbox" class="mr-2"><span>DEFEAT MALENIA, BLADE OF MIQUELLA at the base of Miquella's Haligtree.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Millicent"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Malenia, Goddess of Rot Site of Grace.</span></div>
                <div class="quest-item" data-questline="Gideon MainProgression"><input type="checkbox" class="mr-2"><span>Report the deaths of Mohg and Malenia to Sir Gideon Ofnir in Roundtable Hold for rewards (if not done earlier).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Millicent"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Drainage Channel Site of Grace in Miquella's Haligtree.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Defeat the Ulcerated Tree Spirit in the scarlet rot lake within Miquella's Haligtree (near the Drainage Channel Site of Grace). This is required for Millicent's quest.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>After defeating the Ulcerated Tree Spirit, find two summon signs near Millicent. Choose to assist Millicent (reward: Rotten Winged Sword Insignia) OR challenge Millicent by assisting her sisters (reward: Millicent's Prosthesis).</span></div>
                <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>If you assisted Millicent, reload the area and speak with her until she gives you the Unalloyed Gold Needle, then rest again to find her deceased.</span></div>
                <div class="quest-item" data-questline="Millicent Gowry Hyetta"><input type="checkbox" class="mr-2"><span>After defeating Malenia, Blade of Miquella, use the Unalloyed Gold Needle on the large scarlet flower in her arena to receive Miquella's Needle (can be used to reverse the Frenzied Flame ending).</span></div>
                <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Return to Gowry's Shack in Caelid. Gowry may be dead or hostile. Kill him to obtain Gowry's Bell Bearing and the Flock's Canvas Talisman.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Crumbling Beast Grave Depths Site of Grace in Crumbling Farum Azula.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Crumbling Farum Azula, near the Crumbling Beast Grave Depths Site of Grace.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Deathroot]</span>Dropped by an Ulcerated Tree Spirit found by taking the lift down from the Beside the Great Bridge Site of Grace in Crumbling Farum Azula, then heading north out of the building and following the path along the cliff edge. This is the ninth Deathroot.</span></div>
                <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Give Gurranq the ninth and final Deathroot at the Bestial Sanctum. Reward: Ancient Dragon Smithing Stone. He will then depart after you rest at a Site of Grace or reload the area.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression Bernahl Alexander"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Beside the Great Bridge Site of Grace in Crumbling Farum Azula.</span></div>
                <div class="quest-item" data-questline="Bernahl VolcanoManor"><input type="checkbox" class="mr-2"><span>Be invaded by and defeat Recusant Bernahl in Crumbling Farum Azula, on the way to the Dragonlord Placidusax arena (near the Beside the Great Bridge Site of Grace). He drops his armor set and weapon.</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>DEFEAT DRAGONLORD PLACIDUSAX (optional Remembrance boss in Crumbling Farum Azula, accessed by lying down in a specific spot after a platforming puzzle).</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Dragonlord Placidusax Site of Grace.</span></div>
                <div class="quest-item" data-questline="MainProgression Gurranq Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>DEFEAT MALIKETH, THE BLACK BLADE in Crumbling Farum Azula.</span></div>
                <p class="info-paragraph">*** Turning point of the game. Leyndell is now fully Ashen Capital. Certain quests will be changed/locked if not progressed by this point. Defeating Maliketh will also restrict you from obtaining Morgott’s Great Rune (if not already claimed) as well as the Bolt of Gransax weapon from Leyndell. So get those before defeating him. ***</p>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Maliketh, the Black Blade Site of Grace.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Leyndell, Capital of Ash Site of Grace upon returning to the capital.</span></div>
                <div class="useful-item-entry" data-item-type="useful" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Useful Item - Golden Seed]</span>Leyndell, Ashen Capital, found on a large root near the main path after Maliketh's defeat.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Brother Corhyn's body in Leyndell, Ashen Capital, near the giant spear by the colosseum. Collect Corhyn's Bell Bearing and Corhyn's Robe.</span></div>
                <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Goldmask's body in Leyndell, Ashen Capital, near the Erdtree Sanctuary (accessible via a path beneath the western capital ramparts elevator). Obtain the Mending Rune of Perfect Order and Goldmask's Set.</span></div>
                <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Speak to Roderika and Smithing Master Hewg in Roundtable Hold after defeating Maliketh. Hewg's memory will be failing. Exhaust their dialogue.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="Alexander"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Dragon Temple Site of Grace in Crumbling Farum Azula (if not already done for Alexander's next step).</span></div>
                <div class="quest-item" data-questline="Alexander Jarburg"><input type="checkbox" class="mr-2"><span>Find Iron Fist Alexander in a lava area of Crumbling Farum Azula (accessible after the Dragon Temple Site of Grace). Speak to him, then defeat him in a duel to obtain Alexander's Innards and Shard of Alexander talisman.</span></div>
                <div class="quest-item" data-questline="Jarburg Alexander Diallos"><input type="checkbox" class="mr-2"><span>Give Alexander's Innards to Jar-Bairn in Jarburg.</span></div>
                <div class="quest-item" data-questline="Jarburg Alexander Diallos"><input type="checkbox" class="mr-2"><span>Reload the area to find the Companion Jar talisman where Jar-Bairn was.</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>DEFEAT RADAGON OF THE GOLDEN ORDER.</span></div>
                <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>DEFEAT THE ELDEN BEAST.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Elden Throne Site of Grace after defeating the Elden Beast.</span></div>
                <p class="info-paragraph">-FIN- Now start a New Game Plus playthrough and do it all over again! :)</p>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">Shadow of the Erdtree Side Quests</h2>
            <p class="text-gray-600 mb-4">The DLC is a separate story from the main game. Completing all DLC side quests right after Mohg’s boss fight is possible, but you can go back and forth between the main game and DLC if needed.</p>
            <p class="info-paragraph">*** The DLC is essentially a separate story from the main game, so there aren’t any direct quest connections between NPCs in the Lands Between and the Realm of Shadow. Completing the DLC immediately after defeating Mohg, Lord of Blood is possible. However, if the expansion proves too difficult, there is no penalty for returning to the main game and then coming back to the DLC later. It is advisable to complete the DLC before finishing the main game (defeating Radagon/Elden Beast) unless you do not plan on immediately starting New Game Plus. ***</p>
            <div class="space-y-4">
                <div class="quest-item" data-questline="ErdtreeDLC MainProgression"><input type="checkbox" class="mr-2"><span>DEFEAT MOHG, LORD OF BLOOD AND REST AT THE COCOON OF THE EMPYREAN SITE OF GRACE (Prerequisite for DLC).</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Leda"><input type="checkbox" class="mr-2"><span>Speak with Leda at the Cocoon of the Empyrean Site of Grace (Mohg's arena) and exhaust her dialogue.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC MainProgression"><input type="checkbox" class="mr-2"><span>Interact with Miquella's withered arm in the cocoon to enter the Realm of Shadow.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="ErdtreeDLC MainProgression"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Gravesite Plain Site of Grace upon arrival in the Realm of Shadow.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Moore"><input type="checkbox" class="mr-2"><span>East of the Scorched Ruins in the Gravesite Plain, find a friendly pot creature (Potentate) who gives a Scadutree Fragment.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Moore"><input type="checkbox" class="mr-2"><span>South of this Potentate, find a Revered Spirit Ash.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="ErdtreeDLC Hornsent Freyja Ansbach"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Three-Path Cross Site of Grace in Gravesite Plain.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Hornsent Freyja Ansbach"><input type="checkbox" class="mr-2"><span>At the Three-Path Cross Site of Grace in Gravesite Plain, speak to Hornsent and Needle Knight Freyja until their dialogue repeats.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Hornsent Freyja Ansbach"><input type="checkbox" class="mr-2"><span>Hornsent will give you a map fragment detailing some locations of Miquella's Crosses.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Ansbach"><input type="checkbox" class="mr-2"><span>Interact with each Miquella's Cross you find for lore and to progress certain NPC quests.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="ErdtreeDLC Moore Ansbach"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Main Gate Cross Site of Grace in Belurat Tower Settlement (Gravesite Plain).</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Moore Ansbach"><input type="checkbox" class="mr-2"><span>Reach the Main Gate Cross Site of Grace in Belurat Tower Settlement (Gravesite Plain).</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Moore Ansbach"><input type="checkbox" class="mr-2"><span>Speak to Sir Ansbach and Dryleaf Arts Practitioner Moore at the Main Gate Cross until their dialogue repeats.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Ansbach"><input type="checkbox" class="mr-2"><span>While speaking to Sir Ansbach about Miquella's Crosses provides lore, it is not essential for his questline progression.</span></div>
                <div class="site-of-grace-entry" data-item-type="location" data-questline="ErdtreeDLC Moore"><input type="checkbox" class="mr-2"><span><span class="item-label-prefix">[Site of Grace]</span>Activate the Cliffroad Terminus Site of Grace in Gravesite Plain.</span></div>
                <div class="quest-item" data-questline="ErdtreeDLC Moore"><input type="checkbox" class="mr-2"><span>Near the Cliffroad Terminus Site of Grace in Gravesite Plain (close to a Larval Tear found at night), find another friendly pot creature (Potentate). Interact with it to progress Moore's questline. (You'll need to interact with several such Potentates throughout the Realm of Shadow.)</span></div>
            </div>
        </div>
    </div>

    <script>
        const questlineDefinitions = {
            "All": "All Quests",
            "MainProgression": "Main Progression",
            "Ranni": "Ranni the Witch",
            "Alexander": "Alexander, Iron Fist",
            "Millicent": "Millicent & Gowry",
            "Fia": "Fia, Deathbed Companion",
            "Sellen": "Sorceress Sellen",
            "Hyetta": "Hyetta of the Frenzied Flame",
            "VolcanoManor": "Volcano Manor",
            "DungEater": "Loathsome Dung Eater",
            "Goldmask": "Goldmask & Corhyn",
            "Nepheli": "Nepheli Loux",
            "Boc": "Boc the Seamster",
            "Diallos": "Diallos Hoslow",
            "Patches": "Patches the Untethered",
            "Yura": "Yura, Hunter of Bloody Fingers",
            "Shabriri": "Shabriri (Yura)",
            "Kenneth": "Kenneth Haight",
            "Roderika": "Roderika, Spirit Tuner",
            "Hewg": "Hewg, Smithing Master",
            "Thops": "Thops, Aspiring Sorcerer",
            "Rya": "Rya/Zorayas",
            "Latenna": "Latenna the Albinauric",
            "Albus": "Albus & Medallion",
            "Gurranq": "Gurranq, Beast Clergyman",
            "Jarburg": "Jarburg Community",
            "IrinaEdgar": "Irina & Edgar of Morne",
            "Gostoc": "Gatekeeper Gostoc",
            "Blaidd": "Blaidd the Half-Wolf",
            "Iji": "War Counselor Iji",
            "Seluvis": "Preceptor Seluvis",
            "Jerren": "Witch-Hunter Jerren",
            "Corhyn": "Brother Corhyn (Goldmask)",
            "Bernahl": "Recusant Bernahl",
            "Boggart": "Blackguard Boggart",
            "Varre": "White Mask Varre",
            "Kale": "Merchant Kalé (Howling)",
            "ErdtreeDLC": "Shadow of the Erdtree",
            "Leda": "Leda (DLC)",
            "Moore": "Moore (DLC)",
            "Ansbach": "Ansbach (DLC)",
            "Hornsent": "Hornsent (DLC)",
            "Freyja": "Freyja (DLC)",
            "Eleonora": "Eleonora (Yura's Quest)",
            "Azur": "Primeval Sorcerer Azur (Sellen)",
            "Lusat": "Primeval Sorcerer Lusat (Sellen)",
            "Melina": "Melina (Main Story Touchpoints)"
        };

        const fextralifeBaseUrl = "https://eldenring.wiki.fextralife.com/";
        const fextralifeEntities = {
            // NPCs
            "Varre": "White+Mask+Varre", "White Mask Varre": "White+Mask+Varre", "Yura": "Yura", "Yura, Hunter of Bloody Fingers": "Yura", "Bloody Finger Hunter Yura": "Yura", "Nerijus": "Bloody+Finger+Nerijus", "Bloody Finger Nerijus": "Bloody+Finger+Nerijus", "Patches": "Patches", "Patches the Untethered": "Patches", "Boc": "Boc+the+Seamster", "Boc the Seamster": "Boc+the+Seamster", "Sellen": "Sellen", "Sorceress Sellen": "Sellen", "Roderika": "Roderika", "Alexander": "Iron+Fist+Alexander", "Iron Fist Alexander": "Iron+Fist+Alexander", "D, Hunter of the Dead": "D,+Hunter+of+the+Dead", "D": "D,+Hunter+of+the+Dead", "Kenneth Haight": "Kenneth+Haight", "Gurranq, Beast Clergyman": "Gurranq,+Beast+Clergyman", "Gurranq": "Gurranq,+Beast+Clergyman", "Blaidd": "Blaidd", "Blaidd the Half-Wolf": "Blaidd", "Darriwil": "Bloodhound+Knight+Darriwil", "Bloodhound Knight Darriwil": "Bloodhound+Knight+Darriwil", "Kale": "Merchant+Kale", "Merchant Kalé": "Merchant+Kale", "Ranni the Witch": "Ranni+the+Witch", "Ranni": "Ranni+the+Witch", "Renna": "Ranni+the+Witch", "Corhyn": "Corhyn", "Brother Corhyn": "Corhyn", "Diallos": "Diallos", "Sir Gideon Ofnir, the All-Knowing": "Sir+Gideon+Ofnir,+the+All-Knowing", "Sir Gideon Ofnir": "Sir+Gideon+Ofnir,+the+All-Knowing", "Gideon Ofnir": "Sir+Gideon+Ofnir,+the+All-Knowing", "Gideon": "Sir+Gideon+Ofnir,+the+All-Knowing", "Fia": "Fia", "Fia, the Deathbed Companion": "Fia", "Smithing Master Hewg": "Smithing+Master+Hewg", "Hewg": "Smithing+Master+Hewg", "Enia": "Enia", "Finger Reader Enia": "Enia", "Nepheli Loux": "Nepheli+Loux", "Nepheli": "Nepheli+Loux", "Irina": "Irina", "Edgar": "Edgar", "Leonine Misbegotten": "Leonine+Misbegotten", "Gatekeeper Gostoc": "Gatekeeper+Gostoc", "Gostoc": "Gatekeeper+Gostoc", "Sorcerer Rogier": "Sorcerer+Rogier", "Rogier": "Sorcerer+Rogier", "Hyetta": "Hyetta", "Thops": "Thops", "Rya": "Rya", "Zorayas": "Rya", "Blackguard Boggart": "Blackguard+Boggart", "Boggart": "Blackguard+Boggart", "Omenkiller": "Omenkiller", "Albus": "Albus", "Latenna": "Latenna", "Latenna the Albinauric": "Latenna", "War Counselor Iji": "War+Counselor+Iji", "Iji": "War+Counselor+Iji", "Preceptor Seluvis": "Seluvis", "Seluvis": "Seluvis", "Commander O’Neil": "Commander+O'Neil", "O'Neil": "Commander+O'Neil", "Millicent": "Millicent", "Gowry": "Gowry", "Starscourge Radahn": "Starscourge+Radahn", "Radahn": "Starscourge+Radahn", "Witch-Hunter Jerren": "Witch-Hunter+Jerren", "Jerren": "Witch-Hunter+Jerren", "Primeval Sorcerer Lusat": "Primeval+Sorcerer+Lusat", "Lusat": "Primeval+Sorcerer+Lusat", "Master Lusat": "Primeval+Sorcerer+Lusat", "Jar-Bairn": "Jar-Bairn", "D's twin brother": "D,+Beholder+of+Death", "D, Beholder of Death": "D,+Beholder+of+Death", "Primeval Sorcerer Azur": "Primeval+Sorcerer+Azur", "Azur": "Primeval+Sorcerer+Azur", "Eleonora, Violet Bloody Finger": "Eleonora,+Violet+Bloody+Finger", "Eleonora": "Eleonora,+Violet+Bloody+Finger", "Goldmask": "Goldmask", "Festering Fingerprint Vyke": "Festering+Fingerprint+Vyke", "Vyke": "Festering+Fingerprint+Vyke", "Baleful Shadow": "Baleful+Shadow", "Astel, Naturalborn of the Void": "Astel,+Naturalborn+of+the+Void", "Astel": "Astel,+Naturalborn+of+the+Void", "Lichdragon Fortissax": "Lichdragon+Fortissax", "Fortissax": "Lichdragon+Fortissax", "Tanith": "Tanith", "Lady Tanith": "Tanith", "Old Knight Istvan": "Old+Knight+Istvan", "Istvan": "Old+Knight+Istvan", "Rileigh the Idle": "Rileigh+the+Idle", "Knight Bernahl": "Knight+Bernahl", "Bernahl": "Knight+Bernahl", "Recusant Bernahl": "Knight+Bernahl", "Great Horned Tragoth": "Great+Horned+Tragoth", "Tragoth": "Great+Horned+Tragoth", "Godskin Noble": "Godskin+Noble", "God-Skin Noble": "Godskin+Noble", "Godskin Apostle": "Godskin+Apostle", "Dung Eater": "Dung+Eater", "Loathsome Dung Eater": "Dung+Eater", "Morgott, the Omen King": "Morgott,+the+Omen+King", "Morgott": "Morgott,+the+Omen+King", "Juno Hoslow, Knight of Blood": "Juno+Hoslow,+Knight+of+Blood", "Juno Hoslow": "Juno+Hoslow,+Knight+of+Blood", "Fire Giant": "Fire+Giant", "Melina": "Melina", "Mohg, Lord of Blood": "Mohg,+Lord+of+Blood", "Mohg": "Mohg,+Lord+of+Blood", "Malenia, Blade of Miquella": "Malenia,+Blade+of+Miquella", "Malenia": "Malenia,+Blade+of+Miquella", "Dragonlord Placidusax": "Dragonlord+Placidusax", "Placidusax": "Dragonlord+Placidusax", "Maliketh, the Black Blade": "Maliketh,+the+Black+Blade", "Maliketh": "Maliketh,+the+Black+Blade", "Radagon of the Golden Order": "Radagon+of+the+Golden+Order", "Radagon": "Radagon+of+the+Golden+Order", "Elden Beast": "Elden+Beast", "Shabriri": "Shabriri", "Leda": "Leda", "Ansbach": "Ansbach", "Sir Ansbach": "Ansbach", "Moore": "Moore", "Dryleaf Arts Practitioner Moore": "Moore", "Hornsent": "Hornsent", "Freyja": "Freyja", "Needle Knight Freyja": "Freyja", "Miquella": "Miquella", "Tibia Mariner": "Tibia+Mariner", "Twin Gargoyle": "Valiant+Gargoyle", "Demi-Human Chiefs": "Demi-Human+Chief", "Godrick the Grafted": "Godrick+the+Grafted", "Rennala, Queen of the Full Moon": "Rennala,+Queen+of+the+Full+Moon", "Rennala": "Rennala,+Queen+of+the+Full+Moon", "Rykard, Lord of Blasphemy": "Rykard,+Lord+of+Blasphemy", "Rykard": "Rykard,+Lord+of+Blasphemy", "Godfrey, First Elden Lord (Golden Shade)": "Godfrey,+First+Elden+Lord+(Golden+Shade)", "Commander Niall": "Commander+Niall", "Loretta, Knight of the Haligtree": "Loretta,+Knight+of+the+Haligtree", "Full-Grown Fallingstar Beast": "Full-Grown+Fallingstar+Beast", "Lesser Ulcerated Tree Spirit": "Lesser+Ulcerated+Tree+Spirit", "Demi-Human Queen Maggie": "Demi-Human+Queen+Maggie", "Valiant Gargoyle": "Valiant+Gargoyle", "Red Wolf of Radagon": "Red+Wolf+of+Radagon", "Putrid Tree Spirit": "Putrid+Tree+Spirit", "Okina": "Bloody+Finger+Okina", "Bloody Finger Okina": "Bloody+Finger+Okina", "Black Knife Assassin": "Black+Knife+Assassin", "Cemetery Shade": "Cemetery+Shade", "Red Wolf of the Champion": "Red+Wolf+of+the+Champion", "Abductor Virgin": "Abductor+Virgins", "Magma Wyrm Makar": "Magma+Wyrm+Makar", "Pidia, Carian Servant": "Pidia,+Carian+Servant", "Potentate": "Potentate", "friendly pot creature": "Potentate",

            // Locations & Sites of Grace
            "Limgrave": "Limgrave", "Church of Anticipation": "Church+of+Anticipation", "The First Step": "The+First+Step", "The First Step Site of Grace": "The+First+Step", "Fringefolk Hero's Grave": "Fringefolk+Hero's+Grave", "Stormgate": "Stormgate", "Stormhill": "Stormhill", "Stormhill Shack": "Stormhill+Shack", "Stormhill Shack Site of Grace": "Stormhill+Shack", "Murkwater Cave": "Murkwater+Cave", "Murkwater Cave Site of Grace": "Murkwater+Cave", "Church of Elleh": "Church+of+Elleh", "Church of Elleh Site of Grace": "Church+of+Elleh", "Agheel Lake North": "Agheel+Lake+North", "Agheel Lake North Site of Grace": "Agheel+Lake+North", "Coastal Cave": "Coastal+Cave", "Coastal Cave Site of Grace": "Coastal+Cave", "Church of Dragon Communion": "Church+of+Dragon+Communion", "Waypoint Ruins": "Waypoint+Ruins", "Waypoint Ruins Cellar Site of Grace": "Waypoint+Ruins", "Saintsbridge": "Saintsbridge", "Summonwater Village Ruins": "Summonwater+Village", "Summonwater Village": "Summonwater+Village", "Bestial Sanctum": "Bestial+Sanctum", "Bestial Sanctum Site of Grace": "Bestial+Sanctum", "Mistwood": "Mistwood", "Mistwood Ruins": "Mistwood+Ruins", "Third Church of Marika": "Third+Church+of+Marika", "Forlorn Hound Evergaol": "Forlorn+Hound+Evergaol", "Fort Haight": "Fort+Haight", "Roundtable Hold": "Roundtable+Hold", "Roundtable Hold Site of Grace": "Roundtable+Hold", "Weeping Peninsula": "Weeping+Peninsula", "Bridge of Sacrifice": "Bridge+of+Sacrifice", "Bridge of Sacrifice Site of Grace": "Bridge+of+Sacrifice", "Ailing Village": "Ailing+Village", "Callu Baptismal Church": "Callu+Baptismal+Church", "Church of Pilgrimage": "Church+of+Pilgrimage", "Oridys's Rise": "Oridys's+Rise", "Castle Morne": "Castle+Morne", "Castle Morne Rampart": "Castle+Morne+Rampart", "Castle Morne Rampart Site of Grace": "Castle+Morne+Rampart", "Morne Moangrave Site of Grace": "Leonine+Misbegotten", "Fourth Church of Marika": "Fourth+Church+of+Marika", "Witchbane Ruins": "Witchbane+Ruins", "Stormveil Castle": "Stormveil+Castle", "Stormveil": "Stormveil+Castle", "Godrick the Grafted Site of Grace": "Godrick+the+Grafted", "Castleward Tunnel Site of Grace": "Margit,+the+Fell+Omen", "Liftside Chamber": "Liftside+Chamber", "Liftside Chamber Site of Grace": "Liftside+Chamber", "Secluded Cell Site of Grace": "Secluded+Cell", "Liurnia of the Lakes": "Liurnia+of+the+Lakes", "Liurnia": "Liurnia+of+the+Lakes", "Lake-Facing Cliffs": "Lake-Facing+Cliffs", "Lake-Facing Cliffs Site of Grace": "Lake-Facing+Cliffs", "Church of Irith": "Church+of+Irith", "Church of Irith Site of Grace": "Church+of+Irith", "Laskyar Ruins": "Laskyar+Ruins", "Laskyar Ruins Site of Grace": "Laskyar+Ruins", "Scenic Isle Site of Grace": "Scenic+Isle", "Academy Gate Town": "Academy+Gate+Town", "Academy Gate Town Site of Grace": "Academy+Gate+Town", "Boilprawn Shack": "Boilprawn+Shack", "Village of the Albinaurics": "Village+of+the+Albinaurics", "Lakeside Crystal Cave": "Lakeside+Crystal+Cave", "Slumbering Wolf’s Shack": "Slumbering+Wolf's+Shack", "Purified Ruins": "Purified+Ruins", "Rose Church": "Rose+Church", "Revenger’s Shack": "Revenger's+Shack", "Western Liurnia": "Liurnia+of+the+Lakes", "Gate Town Bridge Site of Grace": "Gate+Town+Bridge", "Church of Vows": "Church+of+Vows", "Ravine-Veiled Village": "Ravine-Veiled+Village", "Black Knife Catacombs": "Black+Knife+Catacombs", "Converted Tower": "Converted+Tower", "Chapel of Anticipation": "Chapel+of+Anticipation", "The Four Belfries": "The+Four+Belfries", "Main Academy Gate Site of Grace": "Main+Academy+Gate", "Raya Lucaria Academy": "Raya+Lucaria+Academy", "Raya Lucaria": "Raya+Lucaria+Academy", "Church of the Cuckoo": "Church+of+the+Cuckoo", "Schoolhouse Classroom Site of Grace": "Schoolhouse+Classroom", "Debate Parlor Site of Grace": "Debate+Parlor", "East Raya Lucaria Gate Site of Grace": "East+Raya+Lucaria+Gate", "Raya Lucaria Grand Library Site of Grace": "Rennala,+Queen+of+the+Full+Moon", "Bellum Church": "Bellum+Church", "Bellum Church Site of Grace": "Bellum+Church", "Church of Inhibition": "Church+of+Inhibition", "Caria Manor": "Caria+Manor", "Manor Upper Level Site of Grace": "Manor+Upper+Level", "Testu's Rise": "Testu's+Rise", "Sorcerer's Isle": "Sorcerer's+Isle", "Road to the Manor Site of Grace": "Road+to+the+Manor", "Three Sisters": "Three+Sisters", "Ranni’s Rise": "Ranni's+Rise", "Seluvis’s Rise": "Seluvis's+Rise", "Raya Lucaria Grand Library": "Raya+Lucaria+Grand+Library", "Carian Study Hall": "Carian+Study+Hall", "Divine Tower of Liurnia": "Divine+Tower+of+Liurnia", "Renna’s Rise": "Renna's+Rise", "Ainsel River Main": "Ainsel+River+Main", "Ainsel River Main Site of Grace": "Ainsel+River+Main", "Ainsel River": "Ainsel+River", "Nokstella, Eternal City": "Nokstella,+Eternal+City", "Nokstella, Eternal City Site of Grace": "Nokstella,+Eternal+City", "Grand Cloister": "Grand+Cloister", "Grand Cloister Site of Grace": "Grand+Cloister", "Astel, Naturalborn of the Void Site of Grace": "Astel,+Naturalborn+of+the+Void", "Cathedral of Manus Celes": "Cathedral+of+Manus+Celes", "Cathedral of Manus Celes Site of Grace": "Cathedral+of+Manus+Celes", "Moonlight Altar": "Moonlight+Altar", "Altar South Site of Grace": "Moonlight+Altar", "Lake of Rot": "Lake+of+Rot", "Siofra River": "Siofra+River", "Siofra River Bank Site of Grace": "Siofra+River+Bank", "Worshippers' Woods Site of Grace": "Worshippers'+Woods", "Hallowhorn Grounds": "Hallowhorn+Grounds", "Caelid": "Caelid", "Sellia Gateway": "Sellia+Gateway", "Gowry’s Shack": "Gowry's+Shack", "Sellia, Town of Sorcery": "Sellia,+Town+of+Sorcery", "Swamp of Aeonia": "Swamp+of+Aeonia", "Church of the Plague": "Church+of+the+Plague", "Church of the Plague Site of Grace": "Church+of+the+Plague", "Dragonbarrow": "Dragonbarrow", "Lenne's Rise": "Lenne's+Rise", "Redmane Castle": "Redmane+Castle", "Radahn’s arena": "Wailing+Dunes", "Wailing Dunes": "Wailing+Dunes", "Starscourge Radahn Site of Grace": "Starscourge+Radahn", "War-Dead Catacombs": "War-Dead+Catacombs", "Sellia Hideaway": "Sellia+Hideaway", "Jarburg": "Jarburg", "Nokron, Eternal City": "Nokron,+Eternal+City", "Nokron, Eternal City Site of Grace": "Nokron,+Eternal+City", "Ancestral Woods Site of Grace": "Ancestral+Woods", "Night's Sacred Ground": "Night's+Sacred+Ground", "Siofra Aqueduct": "Siofra+Aqueduct", "Altus Plateau": "Altus+Plateau", "Altus Plateau Site of Grace": "Altus+Plateau", "Grand Lift of Dectus": "Grand+Lift+of+Dectus", "Ruin-Strewn Precipice": "Ruin-Strewn+Precipice", "Altus Highway Junction": "Altus+Highway+Junction", "Altus Highway Junction Site of Grace": "Altus+Highway+Junction", "Erdtree-Gazing Hill Site of Grace": "Erdtree-Gazing+Hill", "Lux Ruins": "Lux+Ruins", "Second Church of Marika": "Second+Church+of+Marika", "Woodfolk Ruins": "Woodfolk+Ruins", "Forest-Spanning Greatbridge Site of Grace": "Forest-Spanning+Greatbridge", "Stormcaller Church": "Stormcaller+Church", "Rampartside Path Site of Grace": "Rampartside+Path", "Writheblood Ruins": "Writheblood+Ruins", "Minor Erdtree": "Minor+Erdtrees", "The Shaded Castle": "The+Shaded+Castle", "Shaded Castle": "The+Shaded+Castle", "Windmill Village": "Windmill+Village", "Dominula, Windmill Village": "Dominula,+Windmill+Village", "Mt Gelmir": "Mt.+Gelmir", "Mt. Gelmir": "Mt.+Gelmir", "Seethewater River": "Seethewater+River", "Seethewater Terminus": "Seethewater+Terminus", "Seethewater Terminus Site of Grace": "Seethewater+Terminus", "Hermit Village": "Hermit+Village", "Volcano Manor": "Volcano+Manor", "Volcano Manor Site of Grace": "Volcano+Manor", "Temple of Eiglay": "Temple+of+Eiglay", "Temple of Eiglay Site of Grace": "Temple+of+Eiglay", "Leyndell, Royal Capital": "Leyndell,+Royal+Capital", "Capital Outskirts": "Capital+Outskirts", "Outer Wall Phantom Tree Site of Grace": "Outer+Wall+Phantom+Tree", "East Capital Rampart Site of Grace": "East+Capital+Rampart", "Outer Wall Battleground Site of Grace": "Outer+Wall+Battleground", "Avenue Balcony Site of Grace": "Avenue+Balcony", "West Capital Rampart": "West+Capital+Rampart", "Subterranean Shunning-Grounds": "Subterranean+Shunning-Grounds", "Leyndell Catacombs": "Leyndell+Catacombs", "Leyndell outer moat": "Leyndell,+Royal+Capital", "Erdtree Sanctuary Site of Grace": "Erdtree+Sanctuary", "Elden Throne Site of Grace": "Morgott,+the+Omen+King", "Frenzied Flame Proscription": "Frenzied+Flame+Proscription", "Deeproot Depths": "Deeproot+Depths", "The Nameless Eternal City Site of Grace": "Deeproot+Depths", "Across the Roots Site of Grace": "Deeproot+Depths", "Prince of Death's Throne": "Prince+of+Death's+Throne", "Prince of Death's Throne Site of Grace": "Lichdragon+Fortissax", "Mountaintops of the Giants": "Mountaintops+of+the+Giants", "Shack of the Lofty": "Shack+of+the+Lofty", "Shack of the Lofty Site of Grace": "Shack+of+the+Lofty", "Zamor Ruins Site of Grace": "Zamor+Ruins", "Stargazer's Ruins": "Stargazer's+Ruins", "Foot of the Forge Site of Grace": "Foot+of+the+Forge", "Freezing Lake": "Freezing+Lake", "First Church of Marika": "First+Church+of+Marika", "Castle Sol": "Castle+Sol", "Church of Repose": "Church+of+Repose", "Giants' Gravepost Site of Grace": "Giants'+Gravepost", "Forge of the Giants": "Forge+of+the+Giants", "Rykard, Lord of Blasphemy Site of Grace": "Rykard,+Lord+of+Blasphemy", "Consecrated Snowfield": "Consecrated+Snowfield", "Consecrated Snowfield Site of Grace": "Consecrated+Snowfield", "Grand Lift of Rold": "Grand+Lift+of+Rold", "Inner Consecrated Snowfield Site of Grace": "Inner+Consecrated+Snowfield", "Apostate Derelict": "Apostate+Derelict", "Ordina, Liturgical Town": "Ordina,+Liturgical+Town", "Mohgwyn Palace": "Mohgwyn+Palace", "Mausoleum Dynasty Midpoint Site of Grace": "Mausoleum+Dynasty+Midpoint", "Cocoon of the Empyrean Site of Grace": "Mohgwyn+Dynasty+Mausoleum", "Miquella’s Haligtree": "Miquella's+Haligtree", "Haligtree Canopy Site of Grace": "Miquella's+Haligtree", "Prayer Room Site of Grace": "Prayer+Room", "Drainage Channel Site of Grace": "Drainage+Channel", "Malenia, Goddess of Rot Site of Grace": "Malenia,+Blade+of+Miquella", "Malenia’s arena": "Elphael,+Brace+of+the+Haligtree", "Elphael, Brace of the Haligtree": "Elphael,+Brace+of+the+Haligtree", "Crumbling Farum Azula": "Crumbling+Farum+Azula", "Crumbling Beast Grave Depths Site of Grace": "Crumbling+Beast+Grave+Depths", "Beside the Great Bridge Site of Grace": "Beside+the+Great+Bridge", "Dragonlord Placidusax Site of Grace": "Dragonlord+Placidusax", "Dragon Temple Site of Grace": "Dragon+Temple", "Maliketh, the Black Blade Site of Grace": "Maliketh,+the+Black+Blade", "Leyndell, Ashen Capital": "Leyndell,+Ashen+Capital", "Leyndell, Capital of Ash Site of Grace": "Leyndell,+Ashen+Capital", "Colosseum": "Colosseum", "Realm of Shadow": "Realm+of+Shadow", "Gravesite Plain Site of Grace": "Gravesite+Plain", // DLC
"Gravesite Plain": "Gravesite+Plain", "Scorched Ruins": "Scorched+Ruins", "Cliffroad Terminus Site of Grace": "Cliffroad+Terminus", "Main Gate Cross Site of Grace": "Main+Gate+Cross", "Belurat Tower Settlement": "Belurat,+Tower+Settlement", "Three-Path Cross Site of Grace": "Three-Path+Cross", "Stonesword Key": "Stonesword+Key", "Teardrop Scarab": "Teardrop+Scarab", "Dectus Medallion": "Dectus+Medallion", "Imbued Sword Key": "Imbued+Sword+Key", "Sewer-Gaol Key": "Sewer-Gaol+Key", "Twin Maiden Husks": "Twin+Maiden+Husks", "Miriel, Pastor of Vows": "Miriel,+Pastor+of+Vows", "Draconic Tree Sentinel": "Draconic+Tree+Sentinel", "Deathtouched Catacombs": "Deathtouched+Catacombs", "Gelmir Hero's Grave": "Gelmir+Hero's+Grave", "Giants' Mountaintop Catacombs": "Giants'+Mountaintop+Catacombs", "Hidden Path to the Haligtree": "Hidden+Path+to+the+Haligtree", "Wyndham Ruins": "Wyndham+Ruins", "Tibia's Summons Site of Grace": "Tibia's+Summons", "Gatefront Ruins": "Gatefront+Ruins", "Magma Wyrm Makar's arena": "Ruin-Strewn+Precipice", "Site of Grace": "Site+of+Grace", // Generic link for "Site of Grace" text

            // Key Items / Upgrade Materials
            "Sacred Tear": "Sacred+Tear", "Golden Seed": "Golden+Seed", "Talisman Pouch": "Talisman+Pouch", "Memory Stone": "Memory+Stone",
            "Sewing Needle": "Sewing+Needle", "Boc's Sewing Needle": "Sewing+Needle", "Deathroot": "Deathroot", "Chrysalids’ Memento": "Chrysalids'+Memento", "Crimson Hood": "Crimson+Hood", "Shabriri Grape": "Shabriri+Grape", "Irina's Letter": "Irina's+Letter", "Rya’s Necklace": "Rya's+Necklace", "Haligtree Secret Medallion (Right)": "Haligtree+Secret+Medallion+(Right)", "Haligtree Secret Medallion (Left)": "Haligtree+Secret+Medallion+(Left)", "Haligtree Secret Medallion": "Haligtree+Secret+Medallion", "Gold Sewing Needle": "Gold+Sewing+Needle", "Black Knifeprint": "Black+Knifeprint", "Academy Glintstone Key": "Academy+Glintstone+Key", "Fingerprint Grape": "Fingerprint+Grape", "Seluvis’s Potion": "Seluvis's+Potion", "Seluvis's Introduction": "Seluvis's+Introduction", "Dolores the Sleeping Arrow Puppet": "Dolores+the+Sleeping+Arrow+Puppet", "Dolores puppet": "Dolores+the+Sleeping+Arrow+Puppet", "Nepheli Loux Puppet": "Nepheli+Loux+Puppet", "Dung Eater Puppet": "Dung+Eater+Puppet", "Amber Starlight Shard": "Amber+Starlight", "Amber Starlight": "Amber+Starlight", 
            "Magic Scorpion Charm": "Magic+Scorpion+Charm", "Fingerslayer Blade": "Fingerslayer+Blade", "Carian Inverted Statue": "Carian+Inverted+Statue", "Cursemark of Death": "Cursemark+of+Death", "Miniature Ranni": "Miniature+Ranni", "Mini Ranni": "Miniature+Ranni", "Dark Moon Ring": "Dark+Moon+Ring", "Dark Moon Greatsword": "Dark+Moon+Greatsword", "Weathered Dagger": "Weathered+Dagger", "Unalloyed Gold Needle": "Unalloyed+Gold+Needle", "Miquella's Needle": "Miquella's+Needle", "Twinned Armor set": "Twinned+Set", "Twinned Set": "Twinned+Set", "Fia's Set": "Fia's+Set", "Fia's Hood": "Fia's+Hood", "Lord of Blood’s Favor": "Lord+of+Blood's+Favor", "Pureblood Knight's Medal": "Pureblood+Knight's+Medal", "Festering Bloody Finger": "Festering+Bloody+Finger", "Valkyrie’s Prosthesis": "Valkyrie's+Prosthesis", "Serpent’s Amnion": "Serpent's+Amnion", "Daedicar’s Woe": "Daedicar's+Woe", "Zorayas’ Letter": "Zorayas'+Letter", "Tonic of Forgetfulness": "Tonic+of+Forgetfulness", "Seedbed Curse": "Seedbed+Curse", "Mending Rune of the Fell Curse": "Mending+Rune+of+the+Fell+Curse", "Law of Regression": "Law+of+Regression", "Golden Order Principia": "Golden+Order+Principia", "Frenzied Flame Seal": "Frenzied+Flame+Seal", "Stormhawk King ashes": "Stormhawk+King", "Ashes of the Stormhawk King": "Stormhawk+King", "Alexander’s Innards": "Alexander's+Innards", "Shard of Alexander": "Shard+of+Alexander", "Companion Jar Talisman": "Companion+Jar", "Miquella Cross": "Miquella's+Cross", "Larval Tear": "Larval+Tear", "Scadutree Fragment": "Scadutree+Fragment", "Revered Spirit Ash": "Revered+Spirit+Ash", "Rotten Winged Sword Insignia": "Rotten+Winged+Sword+Insignia", "Millicent’s Prosthesis": "Millicent's+Prosthesis", "Somber Ancient Dragon Smithing Stone": "Somber+Ancient+Dragon+Smithing+Stone", "Ancient Dragon Smithing Stone": "Ancient+Dragon+Smithing+Stone", "Ulcerated Tree Spirit": "Ulcerated+Tree+Spirit", "Prayerbook": "Prayerbooks", "Keepsake": "Keepsakes", "Clawmark Seal": "Clawmark+Seal", "Beast Eye": "Beast+Eye", "Bestial Sling": "Bestial+Sling", "Bestial Sling Incantation": "Bestial+Sling", "Bestial Vitality": "Bestial+Vitality", "Bestial Vitality Incantation": "Bestial+Vitality", "Ash of War: Beast's Roar": "Ash+of+War:+Beast's+Roar", "Beast Claw": "Beast+Claw+(Incantation)", "Beast Claw incantation": "Beast+Claw+(Incantation)", "Stone of Gurranq": "Stone+of+Gurranq", "Stone of Gurranq incantation": "Stone+of+Gurranq", "Beastclaw Greathammer": "Beastclaw+Greathammer", "Gurranq's Beast Claw": "Gurranq's+Beast+Claw", "Gurranq's Beast Claw incantation": "Gurranq's+Beast+Claw", "Thops's Bell Bearing": "Thops's+Bell+Bearing", "Thops's Barrier": "Thops's+Barrier", "Thops's Barrier spell": "Thops's+Barrier", "Bolt of Gransax": "Bolt+of+Gransax", "Morgott's Great Rune": "Morgott's+Great+Rune", "Corhyn's Robe": "Corhyn's+Robe", "Goldmask's Set": "Goldmask's+Set", "Mending Rune of Perfect Order": "Mending+Rune+of+Perfect+Order", "Dancer's Castanets": "Dancer's+Castanets", "Recusant Finger": "Recusant+Finger", "Red Letter": "Red+Letter", "Letter to Bernahl": "Letter+to+Bernahl", "Letter to Patches": "Letter+to+Patches", "Sacrificial Twig": "Sacrificial+Twig", "Oil Pot": "Oil+Pot", "Patches' Crouch": "Patches'+Crouch", "Varre's Bouquet": "Varre's+Bouquet", "Eccentric's Set": "Eccentric's+Set", "Gowry's Bell Bearing": "Gowry's+Bell+Bearing", "Flock's Canvas Talisman": "Flock's+Canvas+Talisman", "Rogier's Rapier +8": "Rogier's+Rapier", "Discarded Palace Key": "Discarded+Palace+Key", "Finger Snap": "Finger+Snap", "Prattling Pate \"You're Beautiful\"": "Prattling+Pate+\"You're+Beautiful\"",
            "demigod apparel": "Armor"
        };
        const sortedFextralifeEntities = Object.keys(fextralifeEntities).sort((a, b) => b.length - a.length);

        let currentFilter = "All";
        let currentSearchQuery = "";
        let showUsefulItems = true;
        let showSitesOfGrace = true;

        function createFilterButtons() {
            const container = document.getElementById('filterButtonContainer');
            container.innerHTML = ''; 
            Object.keys(questlineDefinitions).forEach(key => {
                const button = document.createElement('button');
                button.textContent = questlineDefinitions[key];
                button.classList.add('filter-button');
                button.dataset.filterKey = key;
                if (key === currentFilter) {
                    button.classList.add('active');
                }
                button.addEventListener('click', () => {
                    currentFilter = key;
                    applyFilters();
                    updateActiveButtonStates();
                });
                container.appendChild(button);
            });
        }

        function updateActiveButtonStates() {
            document.querySelectorAll('.filter-button').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.filterKey === currentFilter);
            });
        }
        
        function replaceBracketsAndApplyLinks() {
            document.querySelectorAll('.quest-item span, .useful-item-entry span, .site-of-grace-entry span, .info-paragraph').forEach(element => {
                const targetElement = element.tagName === 'SPAN' ? element : element;

                if (targetElement.dataset.processedLinks === "true" && !targetElement.innerHTML.includes("<mark")) return;

                let htmlContent = targetElement.dataset.originalHtml || targetElement.innerHTML;
                if (!targetElement.dataset.originalHtml) {
                     targetElement.dataset.originalHtml = targetElement.innerHTML;
                }

                if (!targetElement.dataset.bracketsReplaced) {
                    htmlContent = htmlContent.replace(/{/g, '(').replace(/}/g, ')');
                    targetElement.dataset.bracketsReplaced = "true";
                }
                
                const escapeRegex = (string) => string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                sortedFextralifeEntities.forEach(entityKey => {
                    const urlSegment = fextralifeEntities[entityKey];
                    if (!urlSegment) return;
                    const linkUrl = fextralifeBaseUrl + urlSegment;
                    const regex = new RegExp(`(?<!<a[^>]*>)(?<![\\w+-])${escapeRegex(entityKey)}(?![^<]*?(?:<\/a>|>))(?![\\w+-])`, 'gi');
                    
                    htmlContent = htmlContent.replace(regex, (match) => {
                        return `<a href="${linkUrl}" class="fextralife-link" target="_blank" rel="noopener noreferrer">${match}</a>`;
                    });
                });

                targetElement.innerHTML = htmlContent;
                targetElement.dataset.processedLinks = "true";
                targetElement.dataset.originalText = targetElement.textContent; 
                targetElement.dataset.currentLinkedHtml = htmlContent; 
            });
        }

        function applyFilters() {
            const query = currentSearchQuery.toLowerCase().trim();
            const showUseful = document.getElementById('showUsefulItemsToggle').checked;
            const showGrace = document.getElementById('showSitesOfGraceToggle').checked;

            document.querySelectorAll('.quest-item, .useful-item-entry, .site-of-grace-entry, .info-paragraph').forEach(item => {
                const isInfoParagraph = item.classList.contains('info-paragraph');
                const span = isInfoParagraph ? item : item.querySelector('span');
                
                const textForSearchProvider = span.dataset.originalText ? span : span;
                const questTextForSearch = textForSearchProvider.dataset.originalText ? textForSearchProvider.dataset.originalText.toLowerCase() : textForSearchProvider.textContent.toLowerCase();
                
                const questlines = item.dataset.questline ? item.dataset.questline.split(' ') : [];
                const isUsefulItem = item.classList.contains('useful-item-entry');
                const isSiteOfGrace = item.classList.contains('site-of-grace-entry');

                let matchesFilter = true; 
                if (!isInfoParagraph) {
                     matchesFilter = (currentFilter === "All" || questlines.includes(currentFilter) || ((isUsefulItem || isSiteOfGrace) && currentFilter === "All"));
                }

                let matchesSearch = (!query || questTextForSearch.includes(query));
                
                let matchesTypeToggle = true;
                if (isUsefulItem) {
                    matchesTypeToggle = showUseful;
                } else if (isSiteOfGrace) {
                    matchesTypeToggle = showGrace;
                }


                if (matchesFilter && matchesSearch && matchesTypeToggle) {
                    item.style.display = isInfoParagraph ? 'block' : 'flex';
                    if (query) {
                        let htmlToHighlight = span.dataset.currentLinkedHtml || span.innerHTML;
                        htmlToHighlight = htmlToHighlight.replace(/<mark class="search-highlight">([^<]+)<\/mark>/gi, '$1');
                        
                        try {
                            const escapedQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                            const highlightRegex = new RegExp(`(${escapedQuery})(?![^<]*?>|[^<>]*?<\\s*\\/(?:\\s*[^>]*)?>)`, 'gi');
                            span.innerHTML = htmlToHighlight.replace(highlightRegex, `<mark class="search-highlight">$1</mark>`);
                        } catch (e) {
                            span.innerHTML = htmlToHighlight;
                        }
                    } else {
                        span.innerHTML = span.dataset.currentLinkedHtml || span.innerHTML.replace(/<mark class="search-highlight">([^<]+)<\/mark>/gi, '$1');
                    }
                } else {
                    item.style.display = 'none';
                    span.innerHTML = span.dataset.currentLinkedHtml || span.innerHTML.replace(/<mark class="search-highlight">([^<]+)<\/mark>/gi, '$1');
                }
            });
            updateActiveButtonStates();
        }
        
        function toggleSectionVisibility(header) { 
            const questListContainer = header.nextElementSibling; 
            if (!questListContainer || !questListContainer.classList.contains('space-y-4')) {
                console.error("Could not find the quest list container for toggling DLC section.");
                return;
            }

            header.classList.toggle('section-collapsed');
            if (header.classList.contains('section-collapsed')) {
                questListContainer.style.display = 'none';
            } else {
                questListContainer.style.display = 'block';
                applyFilters(); 
            }
        }

        document.getElementById('searchInput').addEventListener('input', function() {
            currentSearchQuery = this.value;
            applyFilters();
        });

        document.getElementById('showUsefulItemsToggle').addEventListener('change', function() {
            showUsefulItems = this.checked;
            localStorage.setItem('eldenRingShowUsefulItems_v2', this.checked);
            applyFilters();
        });
        
        document.getElementById('showSitesOfGraceToggle').addEventListener('change', function() {
            showSitesOfGrace = this.checked;
            localStorage.setItem('eldenRingShowSitesOfGrace_v1', this.checked);
            applyFilters();
        });

        document.querySelectorAll('.quest-item input[type="checkbox"], .useful-item-entry input[type="checkbox"], .site-of-grace-entry input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const parentEl = this.parentElement;
                parentEl.classList.toggle('completed', this.checked);
                const span = parentEl.querySelector('span'); 
                if (span) span.classList.toggle('completed', this.checked); 
                saveProgress();
            });
        });

       async function saveProgress() {
            const checkboxes = document.querySelectorAll('.quest-item input[type="checkbox"], .useful-item-entry input[type="checkbox"], .site-of-grace-entry input[type="checkbox"]');
            const progress = Array.from(checkboxes).map((cb, index) => {
                const parentEl = cb.parentElement;
                const span = parentEl.querySelector('span');
                const originalText = span && span.dataset.originalText ? span.dataset.originalText : (span ? span.textContent : `item-${index}`); 
                const questTextIdPart = originalText.slice(0, 70).replace(/[^a-zA-Z0-9]/g, '');
                
                let itemClassType = 'quest';
                if (parentEl.classList.contains('useful-item-entry')) itemClassType = 'useful';
                else if (parentEl.classList.contains('site-of-grace-entry')) itemClassType = 'grace';

                const idSourceText = span.dataset.originalHtml || span.innerHTML; 
                const simpleId = idSourceText.replace(/<[^>]+>/g, ' ').replace(/\s+/g, ' ').trim().slice(0,50).replace(/[^a-zA-Z0-9]/g, '');
                return { id: `${itemClassType}-${index}-${simpleId}-${questTextIdPart}`, checked: cb.checked };
            });
            try {
                 localStorage.setItem('eldenRingQuestGuideProgress_v7_graceType', JSON.stringify(progress));
            } catch (error) {
                console.error('Error saving to localStorage:', error);
            }
        }

        async function loadProgress() {
            try {
                const showUsefulItemsSaved = localStorage.getItem('eldenRingShowUsefulItems_v2');
                if (showUsefulItemsSaved !== null) {
                    document.getElementById('showUsefulItemsToggle').checked = JSON.parse(showUsefulItemsSaved);
                    showUsefulItems = JSON.parse(showUsefulItemsSaved);
                } else {
                    document.getElementById('showUsefulItemsToggle').checked = true; 
                    showUsefulItems = true;
                }

                const showSitesOfGraceSaved = localStorage.getItem('eldenRingShowSitesOfGrace_v1');
                 if (showSitesOfGraceSaved !== null) {
                    document.getElementById('showSitesOfGraceToggle').checked = JSON.parse(showSitesOfGraceSaved);
                    showSitesOfGrace = JSON.parse(showSitesOfGraceSaved);
                } else {
                    document.getElementById('showSitesOfGraceToggle').checked = true; 
                    showSitesOfGrace = true;
                }


                const progressString = localStorage.getItem('eldenRingQuestGuideProgress_v7_graceType');
                if (progressString) {
                    const progress = JSON.parse(progressString);
                    const progressMap = new Map(progress.map(item => [item.id, item.checked]));

                    document.querySelectorAll('.quest-item input[type="checkbox"], .useful-item-entry input[type="checkbox"], .site-of-grace-entry input[type="checkbox"]').forEach((cb, index) => {
                        const parentEl = cb.parentElement;
                        const span = parentEl.querySelector('span');
                        const originalText = span && span.dataset.originalText ? span.dataset.originalText : (span ? span.textContent : `item-${index}`);
                        const questTextIdPart = originalText.slice(0, 70).replace(/[^a-zA-Z0-9]/g, '');
                        
                        let itemClassType = 'quest';
                        if (parentEl.classList.contains('useful-item-entry')) itemClassType = 'useful';
                        else if (parentEl.classList.contains('site-of-grace-entry')) itemClassType = 'grace';

                        const idSourceText = span.dataset.originalHtml || span.innerHTML;
                        const simpleId = idSourceText.replace(/<[^>]+>/g, ' ').replace(/\s+/g, ' ').trim().slice(0,50).replace(/[^a-zA-Z0-9]/g, '');
                        const questId = `${itemClassType}-${index}-${simpleId}-${questTextIdPart}`;
                        
                        if (progressMap.has(questId)) {
                            cb.checked = progressMap.get(questId);
                            parentEl.classList.toggle('completed', cb.checked);
                            if(span) span.classList.toggle('completed', cb.checked);
                        }
                    });
                }
            } catch (error) {
                console.error('Error loading from localStorage:', error);
            }
        }
        
        function initializePage() {
            document.querySelectorAll('.quest-item span, .useful-item-entry span, .site-of-grace-entry span, .info-paragraph').forEach(el => {
                const target = el.tagName === 'SPAN' ? el : el; 
                target.dataset.originalHtml = target.innerHTML;
            });

            replaceBracketsAndApplyLinks(); 
            createFilterButtons();
            loadProgress(); // This will set the initial state of toggles based on localStorage
            currentFilter = "All"; 
            applyFilters(); // This will apply filters based on toggle states
            updateActiveButtonStates(); 
            
            const dlcMainHeader = Array.from(document.querySelectorAll('h2.text-2xl.font-semibold'))
                                 .find(h => h.textContent.includes("Shadow of the Erdtree Side Quests"));
            if (dlcMainHeader) {
                // Logic for DLC toggle if needed
            }
             applyFilters(); 
        }

        window.addEventListener('load', initializePage);
    </script>
</body>
</html>