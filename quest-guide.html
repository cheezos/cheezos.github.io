<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elden Ring Side Quests Checklist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .completed { text-decoration: line-through; color: #6b7280; }
        .region-section { display: block; } /* Keep region sections for layout */
        .quest-list { display: block; } /* Quest lists are always technically 'active' for content, filtering handles item visibility */
        .quest-item { display: flex; } /* Default state for quest items, JS will hide/show */
        .search-highlight { background-color: #fef08a; }
        .filter-button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem; /* 8px */
            margin-bottom: 1.5rem; /* 24px */
        }
        .filter-button {
            padding: 0.5rem 1rem; /* 8px 16px */
            color: white;
            border-radius: 0.375rem; /* 6px */
            transition: background-color 0.2s;
        }
        .filter-button.active {
            background-color: #2563eb; /* Example active color: blue-600 */
        }
        .filter-button:not(.active) {
            background-color: #3b82f6; /* Example default color: blue-500 */
        }
        .filter-button:hover:not(.active) {
            background-color: #1d4ed8; /* Example hover color: blue-700 */
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4 max-w-4xl">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">Elden Ring Side Quests Checklist</h1>
        
        <div class="mb-6">
            <input type="text" id="searchInput" placeholder="Search quests..." class="w-full p-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4">
            <div id="filterButtonContainer" class="filter-button-container">
                </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">Main Game Side Quests</h2>
            <p class="text-gray-600 mb-4">All questlines in the base game are separate from the DLC and do not require *Shadow of the Erdtree* progress to start or complete.</p>
            <div class="space-y-4">
                <div class="region-section" data-region-layout="Limgrave">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Limgrave</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Finish tutorial section and reach Limgrave (Church of Anticipation/Limgrave)</span></div>
                        <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Meet Varre (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Yura"><input type="checkbox" class="mr-2"><span>Approach Murkwater Cave and help Yura defeat Nerijus {If Yura dies, his quest fails}</span></div>
                        <div class="quest-item" data-questline="Patches Yura"><input type="checkbox" class="mr-2"><span>Find and fight Patches in Murkwater Cave (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Yura"><input type="checkbox" class="mr-2"><span>Talk to Yura north of Murkwater Cave (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd"><input type="checkbox" class="mr-2"><span>Return to Church of Elleh meet Ranni at night</span></div>
                        <div class="quest-item" data-questline="Boc"><input type="checkbox" class="mr-2"><span>Free Boc from tree (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Boc"><input type="checkbox" class="mr-2"><span>Talk to Boc at Coastal Cave (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Boc"><input type="checkbox" class="mr-2"><span>Defeat Coastal Cave boss and give Boc sewing tools {go all the way through for Church of Dragon Communion}</span></div>
                        <div class="quest-item" data-questline="Sellen Seluvis"><input type="checkbox" class="mr-2"><span>Meet Sellen in Waypoint Ruins (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Meet Rodreika at Stormhill Shack (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Alexander Jarburg"><input type="checkbox" class="mr-2"><span>Meet Alexander next to Saintsbridge (Limgrave)</span></div>
                        <div class="quest-item" data-questline="D Gurranq Fia"><input type="checkbox" class="mr-2"><span>Meet D in stormhill past Saintsbridge (Limgrave)</span></div>
                        <div class="quest-item" data-questline="D Gurranq"><input type="checkbox" class="mr-2"><span>Kill Tibia Mariner in Summonwater Village Ruins (Limgrave)</span></div>
                        <div class="quest-item" data-questline="D Gurranq Fia"><input type="checkbox" class="mr-2"><span>Return to D</span></div>
                        <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Meet Kenneth Haight (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span>Find Waypoint to Bestial Sanctum (Mistwood)</span></div>
                        <div class="quest-item" data-questline="Gurranq D"><input type="checkbox" class="mr-2"><span>Feed Gurranq 9 deathroot {can’t find all 9 right now just give as you find them}</span></div>
                        <div class="quest-item" data-questline="Gurranq"><input type="checkbox" class="mr-2"><span>Rest at Bestial Sanctum Site of Grace</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni Kale"><input type="checkbox" class="mr-2"><span>Hear wolf howling (Limgrave: Mistwood)</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni Kale"><input type="checkbox" class="mr-2"><span>Return to Kale and ask about howling (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni Kale"><input type="checkbox" class="mr-2"><span>Use snap gesture next to howling (Mistwood)</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni"><input type="checkbox" class="mr-2"><span>Go to Forlorn Hound Evergaol and fight Darriwil (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni"><input type="checkbox" class="mr-2"><span>Speak to blaidd after killing Darriwil</span></div>
                        <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Clear Fort Haight (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Return to Kenneth Haight and accept his accord</span></div>
                        <div class="quest-item" data-questline="Kenneth Nepheli Gostoc"><input type="checkbox" class="mr-2"><span>Speak with Kenneth Haight at Fort Haight</span></div>
                        <div class="quest-item" data-questline="Sellen Seluvis"><input type="checkbox" class="mr-2"><span>Take Seluvis’s Introduction to Sellen in Waypoint Ruins (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Show Sellen sorcery from Azur (Waypoint Ruins; Limgrave)</span></div>
                        <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Show Sellen Lusat’s sorcery (Waypoint Ruins)</span></div>
                        <div class="quest-item" data-questline="Patches VolcanoManor"><input type="checkbox" class="mr-2"><span>Return to Patches in Murkwater Cave, fight, but do not kill (Limgrave)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Roundtable Hold">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Roundtable Hold</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Exhaust Corhyn’s dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Diallos Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Exhaust Diallos dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Gideon Nepheli"><input type="checkbox" class="mr-2"><span>Exhaust Gideon dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Fia Rogier D"><input type="checkbox" class="mr-2"><span>Talk to Fia while she holds you (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Hewg Roderika"><input type="checkbox" class="mr-2"><span>Exhaust Hewg dialogue (Roundtable hold)</span></div>
                        <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Ask Rogier about the face (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Exhaust Enia’s dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Gideon Nepheli"><input type="checkbox" class="mr-2"><span>Exhaust Gideon dialogue (Roundtable Hold)</span></div> <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Exhaust Nepheli dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Talk to Rodreika and Hewg several times until he takes her as his apprentice (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Fia Rogier D"><input type="checkbox" class="mr-2"><span>Talk to Fia (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Rogier Fia D Ranni"><input type="checkbox" class="mr-2"><span>Give Black Knifeprint to Sorcerer Rogier (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Fia Rogier D"><input type="checkbox" class="mr-2"><span>Talk to Fia (Roundtable Hold)</span></div> <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Talk to Nepheli (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Nepheli is downstairs near the Stonesword Key rooms at Roundtable (near Hewg)</span></div>
                        <div class="quest-item" data-questline="Gideon Nepheli"><input type="checkbox" class="mr-2"><span>Talk to Gideon about Nepheli (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Give Stormhawk King to Nepheli (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Exhaust Nepheli dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Diallos Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Exhaust Diallos’ dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Exhaust Corhyn dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Exhaust Rogier dialogue (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Fia D Rogier"><input type="checkbox" class="mr-2"><span>Talk to fia and obtain weathered dagger (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>Give dagger to D (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Fia D Rogier"><input type="checkbox" class="mr-2"><span>Reload Roundtable Hold and exhaust dialogue with Fia in new room past Rodreika</span></div>
                        <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Speak to Dung Eater (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="DungEater"><input type="checkbox" class="mr-2"><span>Find message from Dung Eater (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Talk to Dung Eater (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Gideon MainProgression"><input type="checkbox" class="mr-2"><span>Tell Gideon about locations and deaths of Mohg and Malenia (Roundtable Hold)</span></div>
                        <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Exhaust dialogue between Rodreika and Hewg</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Weeping Peninsula">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Weeping Peninsula</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Meet Irina (Weeping Peninsula)</span></div>
                        <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Deliver Irina’s Letter to Edgar in Castle Morne</span></div>
                        <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Defeat Leonine Misbegotten behind Castle Morne</span></div>
                        <div class="quest-item" data-questline="IrinaEdgar"><input type="checkbox" class="mr-2"><span>Return to Edgar</span></div>
                        <div class="quest-item" data-questline="IrinaEdgar Hyetta"><input type="checkbox" class="mr-2"><span>Return to Irina’s location and talk to Edgar</span></div>
                        <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Meet Sellen at Witchbane Ruins (Weeping Peninsula)</span></div>
                        <div class="quest-item" data-questline="Jerren Sellen"><input type="checkbox" class="mr-2"><span>Reload Witchbane Ruins and talk to Jerren (Weeping Peninsula)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Stormveil Castle">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Stormveil Castle</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Defeat Margit</span></div>
                        <div class="quest-item" data-questline="Gostoc Nepheli Kenneth"><input type="checkbox" class="mr-2"><span>Meet Gostoc (Stormveil Castle)</span></div>
                        <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Meet Rogier (Stormveil Castle)</span></div>
                        <div class="quest-item" data-questline="Rogier Fia D"><input type="checkbox" class="mr-2"><span>Examine Rogier’s bloodstain (Stormveil)</span></div>
                        <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Obtain Chrysalids’ Memento (Stormveil)</span></div>
                        <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Return Chrysalids’ Memento to Rodreika (Limgrave)</span></div>
                        <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Meet Nepheli Loux (Stormveil)</span></div>
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Defeat Godrick</span></div>
                        <div class="quest-item" data-questline="Roderika Hewg"><input type="checkbox" class="mr-2"><span>Return to where you found Chrysalids’ Memento to find Crimson Hood (Stormveil)</span></div>
                        <div class="quest-item" data-questline="Nepheli Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Return to Godrick Grace and rest; Speak to Gostoc, Kenneth, and Nepheli at throne room</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Liurnia">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Liurnia</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Hyetta IrinaEdgar"><input type="checkbox" class="mr-2"><span>Meet Hyetta and give Shabriri Grape (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Thops"><input type="checkbox" class="mr-2"><span>Meet Thops in Church of Irith (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor"><input type="checkbox" class="mr-2"><span>Meet Rya (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Boggart Rya DungEater"><input type="checkbox" class="mr-2"><span>Meet Boggart, buy necklace and prawn (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor Boggart"><input type="checkbox" class="mr-2"><span>Return Rya’s necklace (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Nepheli Gideon Seluvis"><input type="checkbox" class="mr-2"><span>Meet Nepheli at Village of Albinaurics, exhaust dialogue, and kill omenkiller (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Albus Latenna"><input type="checkbox" class="mr-2"><span>Release Albus from pot in Village of Albinaurics and obtain medallion half (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Latenna Albus"><input type="checkbox" class="mr-2"><span>Find Latenna at Slumbering Wolf’s Shack (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Latenna Albus"><input type="checkbox" class="mr-2"><span>Return medallion and promise to take Latenna to Haligtree  {make sure she becomes spirit ash} (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Find Hyetta in Purified Ruins and give Shabriri Grape (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Exhaust Varre’s dialogue at Rose Church (Liurnia)</span></div>
                        <div class="quest-item" data-questline="IrinaEdgar Hyetta"><input type="checkbox" class="mr-2"><span>Defeat Edgar the Revenger at Revenger’s Shack (Western Liurnia)</span></div>
                        <div class="quest-item" data-questline="Diallos Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Find and exhaust Diallos’ dialogue slightly NE of academy gate town site of grace (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Find Hyetta north of Gate Town Bridge site of grace and give Shabriri Grape (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Tell Hyetta what the grapes are (her voice lines will vomit)</span></div>
                        <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Rest/Explore and talk to Hyetta again until she talks about becoming a finger maiden</span></div>
                        <div class="quest-item" data-questline="Hyetta"><input type="checkbox" class="mr-2"><span>Exhaust Hyetta’s dialogue</span></div>
                        <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Collect Gold Sewing Needle in Church of Vows (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Rogier Fia Ranni D"><input type="checkbox" class="mr-2"><span>Get Black Knifeprint from Black Knife Catacombs (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Nepheli Gideon Kenneth Gostoc"><input type="checkbox" class="mr-2"><span>Find Stormhawk King in Chaple of Anticipation (Four Belfries)</span></div>
                        <div class="quest-item" data-questline="Yura Shabriri"><input type="checkbox" class="mr-2"><span>Find red summon sign to assist Yura north of Main gate Grace (Raya Lucaria)</span></div>
                        <div class="quest-item" data-questline="Yura Shabriri"><input type="checkbox" class="mr-2"><span>Speak to Yura after assisting him</span></div>
                        <div class="quest-item" data-questline="Thops Sellen"><input type="checkbox" class="mr-2"><span>Get second Academy Glintstone Key (Raya Lucaria Academy)</span></div>
                        <div class="quest-item" data-questline="Thops Sellen"><input type="checkbox" class="mr-2"><span>Give Academy Glintstone Key to Thops</span></div>
                        <div class="quest-item" data-questline="Thops Sellen"><input type="checkbox" class="mr-2"><span>Reload area and kill teardrop scarab where Thops was</span></div>
                        <div class="quest-item" data-questline="Thops Sellen"><input type="checkbox" class="mr-2"><span>Find Thops just outside Schoolhouse Classroom Site of Grace (Raya Lucaria)</span></div>
                        <div class="quest-item" data-questline="MainProgression Boc Ranni"><input type="checkbox" class="mr-2"><span>Defeat Renalla</span></div>
                        <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Give Gold Sewing Needle to Boc (REST at East Raya Lucaria Gate site of grace)</span></div>
                        <div class="quest-item" data-questline="Hyetta Varre"><input type="checkbox" class="mr-2"><span>Meet Hyetta at Bellum Church (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Hyetta Varre YuraShabriri"><input type="checkbox" class="mr-2"><span>Defeat Festering Fingerprint Vyke near Church of Inhibition (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Hyetta Varre"><input type="checkbox" class="mr-2"><span>Give Fingerprint Grape to Hyetta in Bellum Church</span></div>
                        <div class="quest-item" data-questline="Iji Ranni Blaidd Seluvis"><input type="checkbox" class="mr-2"><span>Meet Iji (W Liurnia)</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis Rogier Fia"><input type="checkbox" class="mr-2"><span>Meet Ranni in Ranni’s Rise (Three Sisters)</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis"><input type="checkbox" class="mr-2"><span>Agree to serve Ranni</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis"><input type="checkbox" class="mr-2"><span>Speak to Balidd, Iji, and Seluvis then return to Ranni</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni Sellen Gideon Nepheli DungEater"><input type="checkbox" class="mr-2"><span>Meet and speak to Seluvis in his tower(Three Sisters)</span></div>
                        <div class="quest-item" data-questline="Seluvis Gideon Nepheli DungEater Ranni"><input type="checkbox" class="mr-2"><span>Give Seluvis’ potion to Ofnir {nothing/Nepheli lives}, Nepheli {Dolores puppet from Seluvis/Nepheli dies}, OR Dung Eater {Dung Eater puppet from Seluvis/Dung Eater dies}</span></div>
                        <div class="quest-item" data-questline="Seluvis Sellen Ranni"><input type="checkbox" class="mr-2"><span>Find Seluvis’ puppets and interact with Sellen puppet (Liurnia, next to Selluvis’s Rise)</span></div>
                        <div class="quest-item" data-questline="Sellen Jerren Ranni"><input type="checkbox" class="mr-2"><span>Find summon signs at Raya Lucaria Grand Library can assist Sellen {Jerren’s armor, extra spells sold by Sellen} OR assist Jerren {Ancient Dragon Smithing Stone}</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Buy puppet from Seluvis (Three Sisters)</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Reload and ask Seluvis for another puppet</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Purchase any of the remaining puppets Seluvis offers you (takes starlight shards)</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Reload area and ask Seluvis about his scheme (Three Sisters)</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Give Seluvis Amber Starlight Shard to receive Magic Scorpion Charm {Giving Ranni the Amber Draught will fail you out of her quest} (Three Sisters)</span></div>
                        <div class="quest-item" data-questline="Ranni Seluvis Iji Blaidd Fia Rogier"><input type="checkbox" class="mr-2"><span>Return Fingerslayer Blade to Ranni {kills seluvis} (Three Sisters)</span></div>
                        <div class="quest-item" data-questline="Iji Ranni Blaidd"><input type="checkbox" class="mr-2"><span>Speak to Iji (W Liurnia)</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni Iji"><input type="checkbox" class="mr-2"><span>Free Blaidd (Forlorn Hound Evergaol)</span></div>
                        <div class="quest-item" data-questline="Iji Ranni Blaidd"><input type="checkbox" class="mr-2"><span>Talk to Iji (W Liurnia)</span></div>
                        <div class="quest-item" data-questline="Ranni Fia Rogier"><input type="checkbox" class="mr-2"><span>Go to Carian Study Hall and use Carian Inverted Statue to reach Divine Tower of Liurnia (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Ranni Fia Rogier"><input type="checkbox" class="mr-2"><span>Collect Cursemark of Death (Liurnia Divine Tower)</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Go through waygate in Renna’s Rise (W Liurnia)</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Collect Mini Ranni (Ainsel River Main)</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Rest at Ainsel River Main grace and speak with Ranni</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Defeat Baleful Shadow (Nokstella)</span></div>
                        <div class="quest-item" data-questline="Ranni Fia Rogier"><input type="checkbox" class="mr-2"><span>Unlock chest next to Renalla (Raya Lucaria)</span></div>
                        <div class="quest-item" data-questline="Ranni"><input type="checkbox" class="mr-2"><span>Enter coffin (Grand Cloister)</span></div>
                        <div class="quest-item" data-questline="Ranni"><input type="checkbox" class="mr-2"><span>Defeat Astel</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Enter hole in floor in Cathedral of Manus Celes (Liurnia)</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni Iji"><input type="checkbox" class="mr-2"><span>Kill Blaidd (Ranni’s Rise)</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji"><input type="checkbox" class="mr-2"><span>Return to Ranni’s chamber rest and talk to mini ranni</span></div>
                        <div class="quest-item" data-questline="Alexander Jarburg"><input type="checkbox" class="mr-2"><span>Find Alexander South of Carian Study Hall, above Jarburg (Liurnia)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Siofra River">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Siofra River</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Blaidd Ranni Seluvis Sellen"><input type="checkbox" class="mr-2"><span>Find Blaidd (Siofra River)</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni Sellen Blaidd"><input type="checkbox" class="mr-2"><span>Speak to Seluvis (Three Sisters)</span></div> <div class="quest-item" data-questline="Blaidd Ranni Seluvis Sellen"><input type="checkbox" class="mr-2"><span>Tell Blaidd about what Sellen told you (Siofra River)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Caelid">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Caelid</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Talk to Gowry in Gowry’s Shack (Caelid)</span></div>
                        <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Defeat Commander O’Neil and get Unalloyed Gold needle (Caelid)</span></div>
                        <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Exhaust dialog until Gowry fixes the Unalloyed Gold needle (Caelid)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Take needle to Millicent at Church of the plague (Caelid)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Rest and exhaust Millicent’s dialogue (Caelid)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Return to Gowry’s Shack and exhaust dialogue with Millicent (Caelid)</span></div>
                        <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Reload area and speak to Gowry (Caelid)</span></div>
                        <div class="quest-item" data-questline="MainProgression Blaidd Alexander Jerren Ranni ErdtreeDLC"><input type="checkbox" class="mr-2"><span>Defeat Starscourge Radahn</span></div>
                        <div class="quest-item" data-questline="Blaidd Ranni Alexander Jerren"><input type="checkbox" class="mr-2"><span>Talk to Blaidd after Radahn (Radahn’s arena)</span></div>
                        <div class="quest-item" data-questline="Alexander Blaidd Jerren Jarburg"><input type="checkbox" class="mr-2"><span>Talk to Alexander after Radahn (Radahn’s arena)</span></div>
                        <div class="quest-item" data-questline="Jerren Sellen Blaidd Ranni"><input type="checkbox" class="mr-2"><span>Exhaust dialogue with Witch-Hunter Jerren in Redmane Castle (Caelid)</span></div>
                        <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Go through Sellia Hideaway and get sorcery from Master Lusat (Caelid)</span></div>
                        <div class="quest-item" data-questline="Gowry Millicent"><input type="checkbox" class="mr-2"><span>Kill/loot Gowry in Gowry’s shack (Caelid)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Jarburg">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Jarburg</h3>
                    <div class="quest-list pl-4">
                         <div class="quest-item" data-questline="Jarburg Alexander Diallos"><input type="checkbox" class="mr-2"><span>Exhaust Jar-Bairn dialogue (Jarburg)</span></div>
                         <div class="quest-item" data-questline="Diallos Jarburg Alexander VolcanoManor"><input type="checkbox" class="mr-2"><span>Exhaust dialogue with Jar-Bairn and Diallos (Jarburg)</span></div>
                         <div class="quest-item" data-questline="Diallos Jarburg Alexander VolcanoManor"><input type="checkbox" class="mr-2"><span>Exhaust dialogue with diallos (Jarburg)</span></div>
                         <div class="quest-item" data-questline="Jarburg Diallos Alexander"><input type="checkbox" class="mr-2"><span>Reload jarburg speak to Jar-bairn</span></div>
                         <div class="quest-item" data-questline="Jarburg Diallos Alexander"><input type="checkbox" class="mr-2"><span>Reload jarburg again and speak to Jar-bairn</span></div>
                         <div class="quest-item" data-questline="Jarburg Alexander Diallos"><input type="checkbox" class="mr-2"><span>Give Jar Bairn Alexander’s Innards (jarburg)</span></div>
                         <div class="quest-item" data-questline="Jarburg Alexander Diallos"><input type="checkbox" class="mr-2"><span>Reload area get companion Jar Talisman where Jar-Bairn was seated</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Nokron">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Nokron</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Ranni Fia MainProgression"><input type="checkbox" class="mr-2"><span>Drop down crater (Mistwood) navigate to Nokron</span></div>
                        <div class="quest-item" data-questline="Ranni Blaidd Iji Seluvis Fia Rogier"><input type="checkbox" class="mr-2"><span>Find Fingerslayer Blade (Night’s Sacred Ground)</span></div>
                        <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>Find D, Beholder of Death and give unaltered twinned set (nokron)</span></div>
                        <div class="quest-item" data-questline="Fia D Rogier MainProgression"><input type="checkbox" class="mr-2"><span>Use the coffin in the twin gargoyle boss arena to travel to deeproot depths (Nokron)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Altus Plateau">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Altus Plateau</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Reach Altus Plateau</span></div>
                        <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Talk to Boc near Altus Highway Junction site of grace (you may be able to give him the needle here, if not that is okay, you will be able to see Boc later)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Speak to Millicent north of Erdtree-Gazing site of grace (Altus Plateau)</span></div>
                        <div class="quest-item" data-questline="Seluvis Ranni"><input type="checkbox" class="mr-2"><span>Find Amber Starlight Shard (Altus Plateau)</span></div>
                        <div class="quest-item" data-questline="Yura Shabriri Eleonora"><input type="checkbox" class="mr-2"><span>Meet Yura at Second Church of Marika and help him defeat Eleonora (Altus Plateau)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Goldmask and tell Corhyn of his location (Altus Plateau)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Reload area and exhaust Corhyn dialogue next to Goldmask (Altus Plateau)</span></div>
                        <div class="quest-item" data-questline="Varre VolcanoManor"><input type="checkbox" class="mr-2"><span>Invade 3 times with Festering Bloody Finger OR find invasion sign [Magnus the Beast Claw] in Writheblood Ruins (W of Altus Plateau minor erdtree)</span></div>
                        <div class="quest-item" data-questline="Varre Hyetta"><input type="checkbox" class="mr-2"><span>Get anointed by varre (Liurnia)</span></div> <div class="quest-item" data-questline="Varre Hyetta"><input type="checkbox" class="mr-2"><span>Soak Lord of Blood Favor in blood of maiden (Church of Inhibition [Liurnia], Chapel of Anticipation [Four Belfries], OR Kill Hyetta)</span></div>
                        <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Give Varre Lord of Blood’s Favor (Rose Church)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Get Valkyrie’s Prosthesis (Shaded Castle)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Give Valkyrie’s Prosthesis to Millicent (Altus Plateau)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Defeat Godskin Apostle at top of Dominula and exhaust Millicent’s dialogue after resting (Altus Plateau)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Deeproot Depths">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Deeproot Depths</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>Talk to Fia and wish to be held (Deeproot Depths)</span></div>
                        <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>Ask for embrace from Fia and give Cursemark of Death (Deeproot Depths)</span></div>
                        <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>Reload area and exhaust dialogue (Deeproot Depths)</span></div>
                        <div class="quest-item" data-questline="Fia D Rogier Ranni"><input type="checkbox" class="mr-2"><span>Defeat Lichdragon Fortissax (Deeproot Depths)</span></div>
                        <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>Reload Prince of Death Throne and talk to D (Deeproot Depths)</span></div>
                        <div class="quest-item" data-questline="D Fia Rogier"><input type="checkbox" class="mr-2"><span>Reload and pick up D’s set (Deeproot Depths)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Mt Gelmir">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Mt Gelmir</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Alexander Jarburg VolcanoManor"><input type="checkbox" class="mr-2"><span>Find Alexander (Seethewater Terminus)</span></div>
                        <div class="quest-item" data-questline="Sellen Jerren Azur Lusat"><input type="checkbox" class="mr-2"><span>Find Primeval Sorcerer Azur and accept sorcery (Mt Gelmir)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Volcano Manor">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Volcano Manor</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Speak to Rya {at Lux Ruins if you dont have Dectus Medallion; at Lift of Dectus if you do}</span></div>
                        <div class="quest-item" data-questline="MainProgression VolcanoManor"><input type="checkbox" class="mr-2"><span>Reach Volcano Manor</span></div>
                        <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya Diallos"><input type="checkbox" class="mr-2"><span>Meet Tanith and pick up letter in drawing room (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Diallos VolcanoManor Tanith Jarburg"><input type="checkbox" class="mr-2"><span>Exhaust Diallos’ dialogue (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches"><input type="checkbox" class="mr-2"><span>Assassinate Old Knight Istvan (Stormhill)</span></div>
                        <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>Speak to Tanith and receive another Letter (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Find Rya in new room and speak to Rya in snake form (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches"><input type="checkbox" class="mr-2"><span>Assassinate Rileigh the Idle (Altus Plateau)</span></div>
                        <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>Speak to Tanith and receive another letter (Volacano Manor)</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Speak to Zoraya (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Bernahl VolcanoManor Tanith Patches"><input type="checkbox" class="mr-2"><span>Speak to Bernahl to receive Letter to Bernahl (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Patches VolcanoManor Tanith Bernahl"><input type="checkbox" class="mr-2"><span>Speak to Patches to receive Letter to Patches (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches Alexander"><input type="checkbox" class="mr-2"><span>Find and defeat Tragoth (Ruin-Strewn Precipice) {May want to kill Draconic Tree Sentinel first}</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Defeat God-Skin Noble and get Serpent’s Amnion (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Give Serpent’s Amnion to Zoraya (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Tanith VolcanoManor Rya"><input type="checkbox" class="mr-2"><span>Rest and Speak to Tanith about Zorayas’ absence (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Find and talk to Zoraya (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Rya VolcanoManor Tanith Diallos"><input type="checkbox" class="mr-2"><span>Kill Rya {transforms into snake and drops Daedicar’s Woe}, leave her alive and come back after killing rykard {Rya gone, Daedicar’s Woe, Zorayas’ Letter}, or give Tonic of Forgetfulness {After Rykard is killed and manor inhabitants left, she will return to her spot, reload to find Daedicar’s Woe}</span></div>
                        <div class="quest-item" data-questline="Diallos VolcanoManor Tanith Jarburg"><input type="checkbox" class="mr-2"><span>Return to Volcano Manor and exhaust Diallos dialogue</span></div>
                        <div class="quest-item" data-questline="Tanith VolcanoManor Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>Exhaust dialogue with Tanith (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="MainProgression VolcanoManor Tanith Bernahl Patches Rya"><input type="checkbox" class="mr-2"><span>Defeat Rykard</span></div>
                        <div class="quest-item" data-questline="Bernahl VolcanoManor Tanith Patches"><input type="checkbox" class="mr-2"><span>Exhaust dialogue with Bernahl (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Patches VolcanoManor Tanith Bernahl"><input type="checkbox" class="mr-2"><span>Give Patches’ item to Tanith, kill Tanith and bodyguard (Volcano Manor)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Leyndell">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Leyndell</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Enter Leyndell</span></div>
                        <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Speak to Boc (East Capital Rampart site of grace)</span></div>
                        <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>Use “You’re Beautiful” in front of Boc (good ending) OR give larval tear to Boc (bad ending)</span></div>
                        <div class="quest-item" data-questline="Boc Goldmask"><input type="checkbox" class="mr-2"><span>If “You’re Beautiful” used, reload grace and speak to Boc again</span></div>
                        <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Find seedbed curse (Leyndell)</span></div>
                        <div class="quest-item" data-questline="Bernahl VolcanoManor"><input type="checkbox" class="mr-2"><span>Find invasion sign to assist Bernahl (Leyndell)</span></div>
                        <div class="quest-item" data-questline="Bernahl VolcanoManor Tanith Patches"><input type="checkbox" class="mr-2"><span>Report back to Bernahl (Volcano Manor)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>Find Goldmask and Corhyn next to Leyndell colosseum and exhaust dialogue</span></div>
                        <div class="quest-item" data-questline="DungEater Boggart"><input type="checkbox" class="mr-2"><span>Find and free Dung Eater (Subterranean Shunning Grounds)</span></div>
                        <div class="quest-item" data-questline="Boggart DungEater Rya"><input type="checkbox" class="mr-2"><span>Speak to Boggart in outer moat, buy crab (outside Leyndell)</span></div>
                        <div class="quest-item" data-questline="Boggart DungEater Rya"><input type="checkbox" class="mr-2"><span>Exhaust Boggart’s dialogue (Leyndell Moat)</span></div>
                        <div class="quest-item" data-questline="DungEater Boggart Rya"><input type="checkbox" class="mr-2"><span>Find Boggart’s body and defeat Dung Eater (Leyndell Moat)</span></div>
                        <div class="quest-item" data-questline="DungEater Boggart Seluvis"><input type="checkbox" class="mr-2"><span>Find and feed Dung Eater 5 seedbed curses {won’t find all now just before finishing game} (Subterranean Shunning Grounds)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>Get Law of Regression (Leyndell)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>Find statue west of Ertree sanctuary grace until you see white message and cast Law of Regression (Leyndell)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask Boc"><input type="checkbox" class="mr-2"><span>Speak with Goldmask (Leyndell)</span></div>
                        <div class="quest-item" data-questline="MainProgression Hyetta"><input type="checkbox" class="mr-2"><span>Defeat Morgott</span></div>
                        <div class="quest-item" data-questline="Hyetta MainProgression YuraShabriri"><input type="checkbox" class="mr-2"><span>Speak to Hyetta in Frenzied Flame Proscription {MEETING THREE FINGERS WILL LOCK YOU OUT OF OTHER ENDINGS}  (Subterranean Shunning Grounds)</span></div>
                        <div class="quest-item" data-questline="Hyetta MainProgression YuraShabriri"><input type="checkbox" class="mr-2"><span>{If you met Three Fingers} Reload where you spoke to Hyetta and pick up Frenzied Flame Seal  (Subterranean Shunning Grounds)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Mountaintops of the Giants">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Mountaintops of the Giants</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="VolcanoManor Tanith Bernahl Patches"><input type="checkbox" class="mr-2"><span>Assassinate Juno Hoslow, Knight of Blood (Mountaintops of the Giants)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Corhyn and Goldmask at bridge south of stargazers Ruins; exhaust dialogue (Mountaintop of the Giants)</span></div>
                        <div class="quest-item" data-questline="Latenna Albus MainProgression"><input type="checkbox" class="mr-2"><span>Get Haligtree Secret Medallion (Left) at Castle Sol (Mountaintop of the Giants)</span></div>
                        <div class="quest-item" data-questline="MainProgression Melina"><input type="checkbox" class="mr-2"><span>Defeat Fire Giant & speak with Melina at Forge of Giants</span></div>
                    </div>
                </div>
                 <div class="region-section" data-region-layout="Volcano Manor">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Volcano Manor</h3> <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Patches VolcanoManor Tanith Bernahl"><input type="checkbox" class="mr-2"><span>Exhaust Patches dialogue (shaded castle)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Consecrated Snowfield">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Consecrated Snowfield</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="MainProgression Latenna Albus"><input type="checkbox" class="mr-2"><span>Reach Consecrated Snowfield</span></div>
                        <div class="quest-item" data-questline="Latenna Albus"><input type="checkbox" class="mr-2"><span>Find giant Albinauric at Apostate Derelict and summon Latenna (Consecrated Snowfield)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Mohgwyn Palace">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Mohgwyn Palace</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Varre MainProgression ErdtreeDLC"><input type="checkbox" class="mr-2"><span>Enter Mohgwyn Palace (entering via consecrated snowfield TP will allow you to start with more available exploration)</span></div>
                        <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Kill 3 invaders at blood swamp {fails if mohg is killed}</span></div>
                        <div class="quest-item" data-questline="Varre"><input type="checkbox" class="mr-2"><span>Find invasion sign [Varre] near Mausoleum Dynasty Midpoint</span></div>
                        <div class="quest-item" data-questline="MainProgression Gideon ErdtreeDLC Varre"><input type="checkbox" class="mr-2"><span>Kill Mohg</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC MainProgression"><input type="checkbox" class="mr-2"><span>Rest at Mohg Arena Site of Grace</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Miquella’s Haligtree">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Miquella’s Haligtree</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="MainProgression Latenna Millicent"><input type="checkbox" class="mr-2"><span>Reach Miquella’s Haligtree (consecrated snowfield)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Speak to Millicent next to Prayer Room site of grace</span></div>
                        <div class="quest-item" data-questline="MainProgression Gideon Millicent"><input type="checkbox" class="mr-2"><span>Kill Malenia</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Kill ulcerated tree spirit (Miquella’s Haligtree)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>Assist Millicent {rotten winged sword insignia} OR assist her sisters {millicent’s prothesis} (Miquella’s Haligtree)</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry"><input type="checkbox" class="mr-2"><span>{If assisted Millicent} reload area and exhaust dialog with millicent</span></div>
                        <div class="quest-item" data-questline="Millicent Gowry Hyetta"><input type="checkbox" class="mr-2"><span>Take unalloyed gold needle and interact with flower in malenia’s arena (Miquella’s Haligtree)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Crumbling Farum Azula">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Crumbling Farum Azula</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Bernahl VolcanoManor"><input type="checkbox" class="mr-2"><span>Find and defeat Bernahl (Crumbling Farum Azula)</span></div>
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Defeat Placidusax (optional remembrance boss)</span></div>
                        <div class="quest-item" data-questline="MainProgression Gurranq Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Defeat Maliketh</span></div>
                        <div class="quest-item" data-questline="Alexander Jarburg"><input type="checkbox" class="mr-2"><span>Find Alexander and defeat him (Crumbling Farum Azula)</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Leyndell, Ash">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Leyndell, Ash</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Corhyn at tip of spear (Leyndell, Ash)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Find Goldmask through path under elevator (Leyndell, Ash)</span></div>
                        <div class="quest-item" data-questline="Corhyn Goldmask"><input type="checkbox" class="mr-2"><span>Reload are and go back to Corhyn and Goldmask to pick up respective sets</span></div>
                    </div>
                </div>
                <div class="region-section" data-region-layout="Endgame">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Endgame</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Defeat Radagon</span></div>
                        <div class="quest-item" data-questline="MainProgression"><input type="checkbox" class="mr-2"><span>Defeat Elden Beast</span></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">Shadow of the Erdtree Side Quests</h2>
            <p class="text-gray-600 mb-4">The DLC is a separate story from the main game. Completing all DLC side quests right after Mohg’s boss fight is possible, but you can go back and forth between the main game and DLC if needed.</p>
            <div class="space-y-4">
                <div class="region-section" data-region-layout="Shadow of the Erdtree">
                    <h3 class="text-xl font-semibold text-gray-700 cursor-pointer" onclick="toggleSectionVisibility(this)">Shadow of the Erdtree</h3>
                    <div class="quest-list pl-4">
                        <div class="quest-item" data-questline="ErdtreeDLC Leda"><input type="checkbox" class="mr-2"><span>Speak with Leda and exhaust her dialogue</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC MainProgression"><input type="checkbox" class="mr-2"><span>Touch the ~withered arm~ and reach Realm of Shadow</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Moore"><input type="checkbox" class="mr-2"><span>East of Scorched Ruins there’s a pothead with a scadutree fragment</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Moore"><input type="checkbox" class="mr-2"><span>There is also a revered spirit ash directly south of the pothead</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Hornsent Freyja Ansbach"><input type="checkbox" class="mr-2"><span>Reach three paths cross site of grace and speak to Hornsent and Freyja until both of their dialogues are exhausted</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Hornsent Freyja Ansbach"><input type="checkbox" class="mr-2"><span>Hornsent will give you a cross map</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Ansbach"><input type="checkbox" class="mr-2"><span>Make sure to interact with every Miquella Cross you see</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Moore Ansbach"><input type="checkbox" class="mr-2"><span>Reach Main Gate Cross site of grace</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Moore Ansbach"><input type="checkbox" class="mr-2"><span>Speak to Moore and Ansbach until dialogues are exhausted</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Ansbach"><input type="checkbox" class="mr-2"><span>Speaking to Ansbach about the Miquella crosses you see is not prevalent to his questline and it’s more for just bits of exposition</span></div>
                        <div class="quest-item" data-questline="ErdtreeDLC Moore"><input type="checkbox" class="mr-2"><span>Near Cliffroad Terminus site of grace (right near the night larval tear location) there is a friend bug, interact with him to progress Moore’s questline (you’ll need to interact with numerous friend bugs before making any significant progress with Moore)</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const questlineDefinitions = {
            "All": "All Quests",
            "MainProgression": "Main Progression",
            "Ranni": "Ranni the Witch",
            "Alexander": "Alexander, Iron Fist",
            "Millicent": "Millicent & Gowry",
            "Fia": "Fia, Deathbed Companion",
            "Sellen": "Sorceress Sellen",
            "Hyetta": "Hyetta of the Frenzied Flame",
            "VolcanoManor": "Volcano Manor Assassinations",
            "DungEater": "Loathsome Dung Eater",
            "Goldmask": "Goldmask & Corhyn",
            "Nepheli": "Nepheli Loux's Ascent",
            "Boc": "Boc the Seamster",
            "Diallos": "Diallos Hoslow's Regret",
            "Patches": "Patches the Untethered",
            "Yura": "Yura, Hunter of Bloody Fingers",
            "Kenneth": "Kenneth Haight's Heir",
            "Roderika": "Roderika, Spirit Tuner",
            "Hewg": "Hewg, Smithing Master",
            "Thops": "Thops, Aspiring Sorcerer",
            "Rya": "Rya/Zorayas of Volcano Manor",
            "Latenna": "Latenna the Albinauric",
            "Albus": "Albus & Haligtree Medallion",
            "Gurranq": "Gurranq, Beast Clergyman",
            "Jarburg": "Jarburg Community",
            "IrinaEdgar": "Irina & Edgar of Morne",
            "Gostoc": "Gatekeeper Gostoc",
            "Blaidd": "Blaidd the Half-Wolf",
            "Iji": "War Counselor Iji",
            "Seluvis": "Preceptor Seluvis",
            "Jerren": "Witch-Hunter Jerren",
            "Corhyn": "Brother Corhyn",
            "Bernahl": "Recusant Bernahl",
            "Boggart": "Blackguard Boggart",
            "Varre": "White Mask Varre",
            "Kale": "Merchant Kale (Howling)",
            "ErdtreeDLC": "Shadow of the Erdtree",
            "Leda": "Leda (DLC)",
            "Moore": "Moore (DLC)",
            "Ansbach": "Ansbach (DLC)",
            "Hornsent": "Hornsent (DLC)",
            "Freyja": "Freyja (DLC)"
        };

        let currentFilter = "All";
        let currentSearchQuery = "";

        function createFilterButtons() {
            const container = document.getElementById('filterButtonContainer');
            container.innerHTML = ''; // Clear existing buttons

            Object.keys(questlineDefinitions).forEach(key => {
                const button = document.createElement('button');
                button.textContent = questlineDefinitions[key];
                button.classList.add('filter-button');
                button.dataset.filterKey = key;
                if (key === currentFilter) {
                    button.classList.add('active');
                }
                button.addEventListener('click', () => {
                    currentFilter = key;
                    applyFilters();
                    updateActiveButtonStates();
                });
                container.appendChild(button);
            });
        }

        function updateActiveButtonStates() {
            document.querySelectorAll('.filter-button').forEach(btn => {
                if (btn.dataset.filterKey === currentFilter) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }
        
        function applyFilters() {
            const query = currentSearchQuery.toLowerCase().trim();
            document.querySelectorAll('.quest-item').forEach(item => {
                const questText = item.querySelector('span').textContent.toLowerCase();
                const questlines = item.dataset.questline ? item.dataset.questline.split(' ') : [];

                let matchesFilter = false;
                if (currentFilter === "All") {
                    matchesFilter = true;
                } else if (questlines.includes(currentFilter)) {
                    matchesFilter = true;
                }

                let matchesSearch = true;
                if (query) {
                    matchesSearch = questText.includes(query);
                }

                if (matchesFilter && matchesSearch) {
                    item.style.display = 'flex';
                    if (query && matchesSearch) {
                        const span = item.querySelector('span');
                        span.innerHTML = span.textContent.replace(/<mark class="search-highlight">|<\/mark>/gi, ''); // Clear previous
                        span.innerHTML = span.textContent.replace(new RegExp(query, 'gi'), match => `<mark class="search-highlight">${match}</mark>`);
                    } else {
                         const span = item.querySelector('span');
                         span.innerHTML = span.textContent.replace(/<mark class="search-highlight">|<\/mark>/gi, ''); // Clear if no query
                    }
                } else {
                    item.style.display = 'none';
                }
            });
            updateSectionVisibility();
            updateActiveButtonStates(); // Ensure button active state is correct
        }

        function updateSectionVisibility() {
            document.querySelectorAll('.region-section').forEach(section => {
                const hasVisibleQuest = Array.from(section.querySelectorAll('.quest-item')).some(item => item.style.display === 'flex');
                const h3 = section.querySelector('h3');
                if (h3 && h3.classList.contains('section-collapsed')) { // If manually collapsed, respect that
                    // section.style.display = hasVisibleQuest ? 'block' : 'none'; // Show section if it has content and isn't collapsed
                } else {
                     section.style.display = hasVisibleQuest ? 'block' : 'none';
                }

                // If the section itself is hidden, ensure its quest-list div is also treated as hidden for layout
                 const questListDiv = section.querySelector('.quest-list');
                 if(questListDiv) {
                    questListDiv.style.display = hasVisibleQuest ? 'block' : 'none';
                 }

            });
        }
        
        function toggleSectionVisibility(header) {
            const questList = header.nextElementSibling; // The quest-list div
            const section = header.parentElement; // The region-section div

            if (questList) {
                 // Toggle a class on the h3 to remember its collapsed state
                header.classList.toggle('section-collapsed');
                if (header.classList.contains('section-collapsed')) {
                    questList.style.display = 'none';
                } else {
                    // Only show quest list if the section itself should be visible due to filters
                    const hasVisibleQuest = Array.from(section.querySelectorAll('.quest-item')).some(item => item.style.display === 'flex');
                    if (hasVisibleQuest) {
                         questList.style.display = 'block';
                    } else {
                        // If no quests are visible due to filters, keep it hidden even if uncollapsing
                        questList.style.display = 'none'; 
                        // And potentially hide the whole section if it has no filter-visible content
                        // section.style.display = 'none'; 
                        // This line above might be too aggressive, as it hides the H3. User might want to see H3 even if content is filtered out.
                    }
                }
            }
        }


        document.getElementById('searchInput').addEventListener('input', function() {
            currentSearchQuery = this.value;
            applyFilters();
        });

        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                this.parentElement.classList.toggle('completed', this.checked); // Apply to quest-item
                this.nextElementSibling.classList.toggle('completed', this.checked); // Original logic for span
                saveProgress();
            });
        });

        async function saveProgress() {
            const checkboxes = document.querySelectorAll('.quest-item input[type="checkbox"]');
            const progress = Array.from(checkboxes).map((cb, index) => {
                // To make saving robust to HTML changes, use quest text as part of key
                const questText = cb.nextElementSibling.textContent.slice(0, 50); // First 50 chars of quest
                return { id: `quest-${index}-${questText}`, checked: cb.checked };
            });
            try {
                 localStorage.setItem('eldenRingChecklistProgress_v2', JSON.stringify(progress));
            } catch (error) {
                console.error('Error saving to localStorage:', error);
            }
        }

        async function loadProgress() {
            try {
                const progressString = localStorage.getItem('eldenRingChecklistProgress_v2');
                if (progressString) {
                    const progress = JSON.parse(progressString);
                    const progressMap = new Map(progress.map(item => [item.id, item.checked]));

                    document.querySelectorAll('.quest-item input[type="checkbox"]').forEach((cb, index) => {
                        const questText = cb.nextElementSibling.textContent.slice(0, 50);
                        const questId = `quest-${index}-${questText}`;
                        
                        if (progressMap.has(questId)) {
                            cb.checked = progressMap.get(questId);
                            cb.parentElement.classList.toggle('completed', cb.checked);
                            cb.nextElementSibling.classList.toggle('completed', cb.checked);
                        }
                    });
                }
            } catch (error) {
                console.error('Error loading from localStorage:', error);
            }
        }

        window.addEventListener('load', () => {
            createFilterButtons();
            loadProgress();
            currentFilter = "All"; // Default to "All"
            applyFilters(); // Apply initial filter
            updateActiveButtonStates(); // Set the "All" button to active initially
        });
    </script>
</body>
</html>